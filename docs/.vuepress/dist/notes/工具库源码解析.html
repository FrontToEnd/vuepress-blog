<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>å·¥å…·åº“æºç è§£æ | chuck</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="hiï¼Œæˆ‘æ˜¯chuckã€‚ä¸€åF2Eer">
    <link rel="preload" href="/assets/css/0.styles.077cbd51.css" as="style"><link rel="preload" href="/assets/js/app.3f4decce.js" as="script"><link rel="preload" href="/assets/js/2.bdf3ae06.js" as="script"><link rel="preload" href="/assets/js/90.86e48091.js" as="script"><link rel="prefetch" href="/assets/js/10.eada5689.js"><link rel="prefetch" href="/assets/js/11.8c577c64.js"><link rel="prefetch" href="/assets/js/12.b6715b7f.js"><link rel="prefetch" href="/assets/js/13.910bf70c.js"><link rel="prefetch" href="/assets/js/14.68fc43ad.js"><link rel="prefetch" href="/assets/js/15.7cafe28c.js"><link rel="prefetch" href="/assets/js/16.eb15a660.js"><link rel="prefetch" href="/assets/js/17.79874611.js"><link rel="prefetch" href="/assets/js/18.2ab1affb.js"><link rel="prefetch" href="/assets/js/19.a392eb25.js"><link rel="prefetch" href="/assets/js/20.712152d5.js"><link rel="prefetch" href="/assets/js/21.2c108029.js"><link rel="prefetch" href="/assets/js/22.7de1fb97.js"><link rel="prefetch" href="/assets/js/23.538fba8a.js"><link rel="prefetch" href="/assets/js/24.678c9407.js"><link rel="prefetch" href="/assets/js/25.95daf731.js"><link rel="prefetch" href="/assets/js/26.06fc523b.js"><link rel="prefetch" href="/assets/js/27.7e0e331d.js"><link rel="prefetch" href="/assets/js/28.dc5b365e.js"><link rel="prefetch" href="/assets/js/29.9876fc9b.js"><link rel="prefetch" href="/assets/js/3.e38b8b6f.js"><link rel="prefetch" href="/assets/js/30.3c5f94d7.js"><link rel="prefetch" href="/assets/js/31.ff6971b6.js"><link rel="prefetch" href="/assets/js/32.4d4bceac.js"><link rel="prefetch" href="/assets/js/33.82501ef2.js"><link rel="prefetch" href="/assets/js/34.a835b6a0.js"><link rel="prefetch" href="/assets/js/35.1c57dbf3.js"><link rel="prefetch" href="/assets/js/36.3f372679.js"><link rel="prefetch" href="/assets/js/37.1af4a03d.js"><link rel="prefetch" href="/assets/js/38.f1081cb6.js"><link rel="prefetch" href="/assets/js/39.fa03e4b7.js"><link rel="prefetch" href="/assets/js/4.3716397f.js"><link rel="prefetch" href="/assets/js/40.b860044e.js"><link rel="prefetch" href="/assets/js/41.86185343.js"><link rel="prefetch" href="/assets/js/42.0c0075b6.js"><link rel="prefetch" href="/assets/js/43.4e9ee742.js"><link rel="prefetch" href="/assets/js/44.65b2ce39.js"><link rel="prefetch" href="/assets/js/45.422be1f9.js"><link rel="prefetch" href="/assets/js/46.66c8b9f3.js"><link rel="prefetch" href="/assets/js/47.74e48322.js"><link rel="prefetch" href="/assets/js/48.866b5c4b.js"><link rel="prefetch" href="/assets/js/49.2331c42e.js"><link rel="prefetch" href="/assets/js/5.adc84131.js"><link rel="prefetch" href="/assets/js/50.01a479db.js"><link rel="prefetch" href="/assets/js/51.b46902c4.js"><link rel="prefetch" href="/assets/js/52.2e323837.js"><link rel="prefetch" href="/assets/js/53.04a399ba.js"><link rel="prefetch" href="/assets/js/54.392b71cd.js"><link rel="prefetch" href="/assets/js/55.1837e036.js"><link rel="prefetch" href="/assets/js/56.0900b3fe.js"><link rel="prefetch" href="/assets/js/57.94ca5c07.js"><link rel="prefetch" href="/assets/js/58.fdc2f5a1.js"><link rel="prefetch" href="/assets/js/59.da6b8b43.js"><link rel="prefetch" href="/assets/js/6.f4b3b355.js"><link rel="prefetch" href="/assets/js/60.2c6c08df.js"><link rel="prefetch" href="/assets/js/61.4bcf8e3a.js"><link rel="prefetch" href="/assets/js/62.6a815ac4.js"><link rel="prefetch" href="/assets/js/63.841a7f63.js"><link rel="prefetch" href="/assets/js/64.42844f28.js"><link rel="prefetch" href="/assets/js/65.6bb320a1.js"><link rel="prefetch" href="/assets/js/66.7f0781a0.js"><link rel="prefetch" href="/assets/js/67.9999f087.js"><link rel="prefetch" href="/assets/js/68.be67ff7c.js"><link rel="prefetch" href="/assets/js/69.270a4048.js"><link rel="prefetch" href="/assets/js/7.00249ed3.js"><link rel="prefetch" href="/assets/js/70.7e58fdde.js"><link rel="prefetch" href="/assets/js/71.737dc345.js"><link rel="prefetch" href="/assets/js/72.2d565df3.js"><link rel="prefetch" href="/assets/js/73.4cf51495.js"><link rel="prefetch" href="/assets/js/74.1aa0e1bf.js"><link rel="prefetch" href="/assets/js/75.e0e34199.js"><link rel="prefetch" href="/assets/js/76.82acf861.js"><link rel="prefetch" href="/assets/js/77.e589714d.js"><link rel="prefetch" href="/assets/js/78.8e9abadd.js"><link rel="prefetch" href="/assets/js/79.9e1fc178.js"><link rel="prefetch" href="/assets/js/8.703362e2.js"><link rel="prefetch" href="/assets/js/80.2a43e147.js"><link rel="prefetch" href="/assets/js/81.ca7bc668.js"><link rel="prefetch" href="/assets/js/82.c9e21c1b.js"><link rel="prefetch" href="/assets/js/83.a975c135.js"><link rel="prefetch" href="/assets/js/84.365e7338.js"><link rel="prefetch" href="/assets/js/85.64af8645.js"><link rel="prefetch" href="/assets/js/86.1b0bd26b.js"><link rel="prefetch" href="/assets/js/87.dde120f2.js"><link rel="prefetch" href="/assets/js/88.32dc5669.js"><link rel="prefetch" href="/assets/js/89.446a8227.js"><link rel="prefetch" href="/assets/js/9.7089b1f5.js"><link rel="prefetch" href="/assets/js/91.d36166a4.js"><link rel="prefetch" href="/assets/js/92.2aa12fec.js">
    <link rel="stylesheet" href="/assets/css/0.styles.077cbd51.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="nav-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/" class="router-link-active home-link"><img src="/img/logo.png" alt="chuck" class="logo"> <span class="site-name">chuck</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/" class="router-link-active">
          ğŸ§é¦–é¡µ
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/guide/">
          ğŸ†è§„èŒƒ
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/article/">
          ğŸ“’æ–‡ç« 
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item ant-menu-item-selected"><a href="/notes/" class="router-link-active">
          ğŸ“šç¬”è®°
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/algorithm/">
          ğŸŒ²ç®—æ³•
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          ğŸŒˆè”ç³»
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>Â·Â·Â·</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <a href="https://github.com/FrontToEnd/vuepress-blog" target="_blank" rel="noopener noreferrer" class="repo-link"><i aria-label="icon: github" class="anticon anticon-github"><svg viewBox="64 64 896 896" focusable="false" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></i></a></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><a href="/notes/é˜…è¯»Mijinæœ‰æ„Ÿ.html" title="é˜…è¯»Mijinæœ‰æ„Ÿ" class="sidebar-link">é˜…è¯»Mijinæœ‰æ„Ÿ</a></li><li><a href="/notes/å¦‚ä½•å­¦ä¹ å‰ç«¯.html" title="å¦‚ä½•å­¦ä¹ å‰ç«¯" class="sidebar-link">å¦‚ä½•å­¦ä¹ å‰ç«¯</a></li><li><a href="/notes/å·¥å…·åº“æºç è§£æ.html" title="å·¥å…·åº“æºç è§£æ" class="active sidebar-link">å·¥å…·åº“æºç è§£æ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/å·¥å…·åº“æºç è§£æ.html#å®‰è£…" title="å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/notes/å·¥å…·åº“æºç è§£æ.html#ä½¿ç”¨" title="ä½¿ç”¨" class="sidebar-link">ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/notes/å·¥å…·åº“æºç è§£æ.html#api" title="API" class="sidebar-link">API</a></li><li class="sidebar-sub-header"><a href="/notes/å·¥å…·åº“æºç è§£æ.html#æ€»ç»“" title="æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/notes/æ·±å…¥æµ…å‡ºTypeScript.html" title="æ·±å…¥æµ…å‡ºTypeScript" class="sidebar-link">æ·±å…¥æµ…å‡ºTypeScript</a></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="å·¥å…·åº“æºç è§£æ"><a href="#å·¥å…·åº“æºç è§£æ" class="header-anchor">#</a> å·¥å…·åº“æºç è§£æ</h1> <p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸é‡åˆ°è½¬æ¢å›ºå®šæ ¼å¼æˆ–è€…ç”ŸæˆæŒ‡å®šæ ¼å¼çš„éœ€æ±‚ï¼Œæ¯”å¦‚ç”Ÿæˆéšæœºé¢œè‰²ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºé‚®ç®±ã€èº«ä»½è¯ç­‰ç­‰ã€‚é‚£ä¹ˆä»Šå¤©å°±æ¥åˆ†æä¸€ä¸‹<code>github</code> çš„å¼€æºåº“<a href="https://github.com/proYang/outils" title="outils" target="_blank" rel="noopener noreferrer">outils<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <h2 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h2> <ol><li>ç›´æ¥ä¸‹è½½<code>min</code>ç›®å½•ä¸‹çš„<a href="https://github.com/proYang/outils/blob/master/min/outils.min.js" title="outils.min.js" target="_blank" rel="noopener noreferrer">outils.min.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ä½¿ç”¨ï¼Œæ”¯æŒ UMD é€šç”¨æ¨¡å—è§„èŒƒã€‚</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>outils.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> <span class="token constant">OS</span> <span class="token operator">=</span> outils<span class="token punctuation">.</span><span class="token function">getOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>ä½¿ç”¨ npm å®‰è£…</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code>npm install --save-dev outils
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="header-anchor">#</a> ä½¿ç”¨</h2> <p>æ¨èæŒ‰éœ€å¼•å…¥ã€‚</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// åªå¼•å…¥éƒ¨åˆ†æ–¹æ³•('outils/&lt;æ–¹æ³•å&gt;')</span>
<span class="token keyword">const</span> getOS <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;outils/getOS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">OS</span> <span class="token operator">=</span> <span class="token function">getOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <p>æ¥ä¸‹æ¥å°±é€ä¸€è¿›è¡Œ API çš„è§£è¯»ä¸æºç åˆ†æã€‚</p> <h3 id="arrayequal"><a href="#arrayequal" class="header-anchor">#</a> arrayEqual</h3> <p><strong>åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰
 * @param {Array} arr1
 * @param {Array} arr2
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">arrayEqual</span><span class="token punctuation">(</span><span class="token parameter">arr1<span class="token punctuation">,</span> arr2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœä¸¤ä¸ªæ•°ç»„æ˜¯åŒä¸€å¼•ç”¨ï¼Œåˆ™æ„å‘³ç€ç›¸ç­‰</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr1 <span class="token operator">===</span> arr2<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœæ•°ç»„é•¿åº¦ä¸åŒï¼Œåˆ™ä¸ç›¸ç­‰</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arr1<span class="token punctuation">.</span>length <span class="token operator">!==</span> arr2<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœæ•°ç»„çš„æŸä¸€é¡¹ä¸åŒï¼Œåˆ™ä¸ç›¸ç­‰</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!==</span> arr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å¦åˆ™æ„å‘³ç€ç›¸ç­‰</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="hasclass"><a href="#hasclass" class="header-anchor">#</a> hasClass</h3> <p><strong>åˆ¤æ–­å…ƒç´ æ˜¯å¦æœ‰æŸä¸ª<code>class</code>ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description åˆ¤æ–­å…ƒç´ æ˜¯å¦æœ‰æŸä¸ªclass
 * @param {HTMLElement} ele
 * @param {String} cls
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">hasClass</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> cls</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// é€šè¿‡æ­£åˆ™åˆ¤æ–­å…ƒç´ çš„classNameå±æ€§ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ç±»å</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;(\\s|^)&quot;</span> <span class="token operator">+</span> cls <span class="token operator">+</span> <span class="token string">&quot;(\\s|$)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>ele<span class="token punctuation">.</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="addclass"><a href="#addclass" class="header-anchor">#</a> addClass</h3> <p><strong>ä¸ºå…ƒç´ æ·»åŠ <code>class</code>ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description ä¸ºå…ƒç´ æ·»åŠ class
 * @param {HTMLElement} ele
 * @param {String} cls
 */</span>

<span class="token keyword">var</span> hasClass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./hasClass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">addClass</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> cls</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœå…ƒç´ ä¸­ä¸å­˜åœ¨æŒ‡å®šç±»ååˆ™æ·»åŠ </span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasClass</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ·»åŠ æ–¹å¼æ˜¯åœ¨å…ƒç´ çš„classNameå±æ€§åé¢è¿½åŠ æŒ‡å®šç±»å</span>
    <span class="token comment">// ä¸è¦å¿˜è®°åŠ ä¸Šç©ºæ ¼ï¼Œå› ä¸ºç±»åä»¥ç©ºæ ¼åŒºåˆ†</span>
    ele<span class="token punctuation">.</span>className <span class="token operator">+=</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="removeclass"><a href="#removeclass" class="header-anchor">#</a> removeClass</h3> <p><strong>ä¸ºå…ƒç´ ç§»é™¤<code>class</code>ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description ä¸ºå…ƒç´ ç§»é™¤class
 * @param {HTMLElement} ele
 * @param {String} cls
 */</span>

<span class="token keyword">var</span> hasClass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./hasClass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">removeClass</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> cls</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœå…ƒç´ å­˜åœ¨æŒ‡å®šç±»åï¼Œæ–¹å¯ç§»é™¤</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasClass</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> cls<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å£°æ˜è·å–ç±»åçš„æ­£åˆ™</span>
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;(\\s|^)&quot;</span> <span class="token operator">+</span> cls <span class="token operator">+</span> <span class="token string">&quot;(\\s|$)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ä½¿ç”¨å­—ç¬¦ä¸²çš„replaceæ–¹æ³•å°†ç±»åæ›¿æ¢ä¸ºç©ºæ ¼å­—ç¬¦ä¸²</span>
    <span class="token comment">// æœ€ç»ˆçš„classNameå¯èƒ½ä¼šæœ‰å¤šä¸ªç©ºæ ¼ï¼ŒHTMLè§„èŒƒæ¥å—å¤šä¸ªç©ºæ ¼</span>
    ele<span class="token punctuation">.</span>className <span class="token operator">=</span> ele<span class="token punctuation">.</span>className<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="getcookie"><a href="#getcookie" class="header-anchor">#</a> getCookie</h3> <p>ä¸‹é¢ä¸‰ä¸ªæ–¹æ³•æ¶‰åŠåˆ°æ“ä½œ<code>cookie</code>ï¼Œå…³äº<code>cookie</code>çš„çŸ¥è¯†å¯ä»¥å¦èµ·ä¸€ç¯‡æ–‡ç« äº†ï¼Œæˆ‘ä»¬ä¸‹å›æ¥è¯´ã€‚æœ¬æ–‡å…ˆè®²è§£æ–¹æ³•ã€‚</p> <p><strong>æ ¹æ®<code>name</code>è¯»å–<code>Cookie</code>ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description æ ¹æ®nameè¯»å–cookie
 * @param  {String} name
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">getCookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å–cookieå»é™¤ç©ºæ ¼åï¼Œé€šè¿‡';'åˆ†å‰²ä¸ºé”®å€¼å¯¹(key=value)æ•°ç»„</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> document<span class="token punctuation">.</span>cookie<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\s/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ†å‰²é”®å€¼å¯¹(key=value)æ•°ç»„ã€‚ç¬¬ä¸€é¡¹ä¸ºkeyï¼Œç¬¬äºŒé¡¹ä¸ºvalue</span>
    <span class="token keyword">var</span> tempArr <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å¦‚æœæŒ‡å®šnameä¸keyç›¸åŒåˆ™è¿”å›æŒ‡å®švalueã€‚è¿™é‡Œæ²¡æœ‰ä½¿ç”¨æ’ç­‰ï¼Œåº”è¯¥æ˜¯ä¸ºäº†å…¼å®¹éšå¼è½¬æ¢</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tempArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// cookieçš„valueä¼šè¿›è¡Œç¼–ç ï¼Œå› æ­¤éœ€è¦è°ƒç”¨APIè¿›è¡Œè§£ç å¹¶è¿”å›</span>
      <span class="token keyword">return</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>tempArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p><strong>tips:</strong></p> <p><code>encodeURI()</code>ä¸ä¼šå¯¹æœ¬èº«å±äº URI çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œä¾‹å¦‚å†’å·ã€æ­£æ–œæ ã€é—®å·å’Œäº•å­—å·ï¼›è€Œ<code>encodeURIComponent()</code>åˆ™ä¼šå¯¹å®ƒå‘ç°çš„<strong>ä»»ä½•éæ ‡å‡†å­—ç¬¦</strong>è¿›è¡Œç¼–ç (æ›¿æ¢æ‰€æœ‰éå­—æ¯æ•°å­—å­—ç¬¦)ã€‚å› æ­¤ä½¿ç”¨åè€…å¯ä»¥ç¼–ç æ›´å¤šçš„å­—ç¬¦ï¼Œé˜²æ­¢ XSS æ”»å‡»ã€‚åŒæ ·çš„ï¼Œè§£ç å°±éœ€è¦ä½¿ç”¨å¯¹åº”çš„æ–¹æ³•<code>decodeURIComponent()</code> ã€‚</p> <h3 id="setcookie"><a href="#setcookie" class="header-anchor">#</a> setCookie</h3> <p><strong>è®¾ç½®<code>cookie</code>ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description  è®¾ç½®Cookie
 * @param {String} name
 * @param {String} value
 * @param {Number} days
 */</span>
<span class="token keyword">function</span> <span class="token function">setCookie</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> days</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ ¹æ®å½“åœ°æ—¶é—´è·å–æŒ‡å®šæ—¥æœŸï¼ŒåŠ ä¸Šdayså‚æ•°åï¼Œå†æ›´æ”¹æ—¥æœŸã€‚</span>
  date<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> days<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è®¾ç½®æŒ‡å®šçš„key=valueï¼Œå¹¶ä¸”åŠ ä¸Šè¿‡æœŸæ—¶é—´</span>
  document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token string">&quot;;expires=&quot;</span> <span class="token operator">+</span> date<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>è¡¥å……å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼š</p> <p>1ã€<code>Date.prototype.getDate()</code> è¿”å›å½“åœ°æ—¶é—´ä¸‹æŒ‡å®šæœˆä»½çš„æ—¥æœŸã€‚æ¯”å¦‚ä»Šå¤©æ˜¯<code>2022-01-02</code>ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›æ•°å­—<code>2</code> ã€‚è¿”å›å€¼æ˜¯ä»‹äº<code>1-31</code>çš„æ•´æ•°ã€‚</p> <p>2ã€<code>Date.prototype.setDate()</code> æ›´æ”¹å½“åœ°æ—¶é—´ä¸‹æŒ‡å®šæœˆä»½çš„æ—¥æœŸã€‚æ¥æ”¶çš„å‚æ•°æ˜¯æœˆä»½æ—¥æœŸçš„æ•´æ•°å€¼ã€‚</p> <p>3ã€è®¾ç½®<code>cookie</code>å¯ä»¥ç›´æ¥èµ‹å€¼ç»™<code>document.cookie</code> ï¼Œæ­¤æ—¶ä¼šæ–°å¢ä¸€æ¡<code>cookie</code>ï¼Œè€Œä¸æ˜¯è¦†ç›–å·²æœ‰çš„ã€‚è®¾ç½®è¿‡æœŸæ—¶é—´çš„æ–¹æ³•å°±æ˜¯å¢åŠ <code>expires</code>å±æ€§ã€‚è¯¥å±æ€§çš„å€¼å°±æ˜¯<strong>ä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼ˆUTCï¼‰</strong>ã€‚</p> <p>4ã€JavaScript çš„æ—¶é—´ç”±**ä¸–ç•Œæ ‡å‡†æ—¶é—´ï¼ˆUTCï¼‰**1970 å¹´ 1 æœˆ 1 æ—¥å¼€å§‹ï¼Œç”¨æ¯«ç§’è®¡æ—¶ï¼Œä¸€å¤©ç”± <strong>86,400,000</strong> æ¯«ç§’ç»„æˆã€‚<code>Date</code>Â  å¯¹è±¡çš„èŒƒå›´æ˜¯ <strong>-100,000,000</strong> å¤©è‡³ <strong>100,000,000</strong> å¤©ï¼ˆç­‰æ•ˆçš„æ¯«ç§’å€¼ï¼‰ã€‚</p> <p>5ã€ä»¥ä¸€ä¸ªå‡½æ•°çš„å½¢å¼æ¥è°ƒç”¨ Â <code>Date</code>Â  å¯¹è±¡ï¼ˆå³ä¸ä½¿ç”¨ Â <code>new</code>Â  æ“ä½œç¬¦ï¼‰ä¼šè¿”å›ä¸€ä¸ªä»£è¡¨å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„<strong>å­—ç¬¦ä¸²</strong>ã€‚</p> <h3 id="removecookie"><a href="#removecookie" class="header-anchor">#</a> removeCookie</h3> <p><strong>æ ¹æ®<code>name</code>åˆ é™¤<code>cookie</code>ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description æ ¹æ®nameåˆ é™¤cookie
 * @param  {String} name
 */</span>
<span class="token keyword">var</span> setCookie <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./setCookie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">removeCookie</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è®¾ç½®å·²è¿‡æœŸï¼Œç³»ç»Ÿä¼šç«‹åˆ»åˆ é™¤cookie</span>
  <span class="token function">setCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="getexplore"><a href="#getexplore" class="header-anchor">#</a> getExplore</h3> <p><strong>è·å–æµè§ˆå™¨çš„ç±»å‹å’Œç‰ˆæœ¬ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description è·å–æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">getExplore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> sys <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    ua <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    s<span class="token punctuation">;</span>

  <span class="token comment">// é€šè¿‡æ­£åˆ™åŒ¹é…ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²ï¼Œæ¥å­˜å‚¨å…·ä½“çš„æµè§ˆå™¨ç±»å‹å’Œç‰ˆæœ¬</span>
  <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/rv:([\d.]+)\) like gecko/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>ie <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/msie ([\d\.]+)/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>ie <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/edge\/([\d\.]+)/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>edge <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/firefox\/([\d\.]+)/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>firefox <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/(?:opera|opr).([\d\.]+)/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>opera <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/chrome\/([\d\.]+)/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>chrome <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token punctuation">(</span>s <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/version\/([\d\.]+).*safari/</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">?</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>safari <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token comment">// æ ¹æ®å…³ç³»è¿›è¡Œåˆ¤æ–­</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>ie<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;IE: &quot;</span> <span class="token operator">+</span> sys<span class="token punctuation">.</span>ie<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>edge<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;EDGE: &quot;</span> <span class="token operator">+</span> sys<span class="token punctuation">.</span>edge<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>firefox<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;Firefox: &quot;</span> <span class="token operator">+</span> sys<span class="token punctuation">.</span>firefox<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>chrome<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;Chrome: &quot;</span> <span class="token operator">+</span> sys<span class="token punctuation">.</span>chrome<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>opera<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;Opera: &quot;</span> <span class="token operator">+</span> sys<span class="token punctuation">.</span>opera<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sys<span class="token punctuation">.</span>safari<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;Safari: &quot;</span> <span class="token operator">+</span> sys<span class="token punctuation">.</span>safari<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">&quot;Unkonwn&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <p><code>String.prototype.match()</code> æ–¹æ³•æ£€ç´¢è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœã€‚å…¶ä¸­ï¼Œå‚æ•°ä¸º<strong>æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</strong>ã€‚</p> <p>å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šéšå¼åœ°ä½¿ç”¨ Â <code>new RegExp(obj)</code>Â  å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª Â <code>RegExp</code>Â ã€‚å¦‚æœä½ æ²¡æœ‰ç»™å‡ºä»»ä½•å‚æ•°å¹¶ç›´æ¥ä½¿ç”¨<code>match()</code>æ–¹æ³• Â ï¼Œä½ å°†ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«ç©ºå­—ç¬¦ä¸²çš„æ•°ç»„ï¼š<code>[&quot;&quot;]</code> ã€‚</p> <p>è¿”å›å€¼åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p> <ul><li>å¦‚æœä½¿ç”¨ g æ ‡å¿—ï¼Œåˆ™å°†è¿”å›ä¸å®Œæ•´æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„<strong>æ‰€æœ‰ç»“æœ</strong>ï¼Œä½†ä¸ä¼šè¿”å›æ•è·ç»„ã€‚</li> <li>å¦‚æœæœªä½¿ç”¨ g æ ‡å¿—ï¼Œåˆ™ä»…è¿”å›<strong>ç¬¬ä¸€ä¸ªå®Œæ•´</strong>åŒ¹é…åŠå…¶ç›¸å…³çš„æ•è·ç»„ï¼ˆ<code>Array</code>ï¼‰ã€‚</li></ul> <p>ä¸Šè¿°ç¤ºä¾‹ä¸­æ²¡æœ‰ä½¿ç”¨å…¨å±€æ ‡å¿—ï¼Œå› æ­¤è¿”å›ç¬¬ä¸€ä¸ªå®Œæ•´åŒ¹é…åŠå…¶æ•è·ç»„ã€‚æ‰“å°ä¸€ä¸‹<code>s</code>çœ‹çœ‹ï¼š</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token punctuation">[</span><span class="token string">'chrome/96.0.4664.110'</span><span class="token punctuation">,</span> <span class="token string">'96.0.4664.110'</span><span class="token punctuation">,</span> index<span class="token operator">:</span> <span class="token number">87</span><span class="token punctuation">,</span> input<span class="token operator">:</span> <span class="token string">'mozilla/5.0 (macintosh; intel mac os x 10_14_6) applewebkit/537.36 (khtml, like gecko) chrome/96.0.4664.110 safari/537.36'</span><span class="token punctuation">,</span> groups<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿”å›ç»“æœæ˜¯ä¸€ä¸ª<strong>æ•°ç»„</strong>ã€‚å…¶ä¸­æœ‰ä¸‰ä¸ªé™„åŠ å±æ€§ï¼š</p> <ul><li><code>groups</code>: ä¸€ä¸ªæ•è·ç»„æ•°ç»„ æˆ– Â <code>undefined</code>ï¼ˆå¦‚æœæ²¡æœ‰å®šä¹‰å‘½åæ•è·ç»„ï¼‰ã€‚</li> <li><code>index</code>: åŒ¹é…çš„ç»“æœçš„å¼€å§‹ä½ç½®ã€‚</li> <li><code>input</code>: æœç´¢çš„å­—ç¬¦ä¸²ã€‚</li></ul> <p>æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„æµè§ˆå™¨ç‰ˆæœ¬å°±å­˜åœ¨äºè¿”å›ç»“æœçš„ç¬¬äºŒé¡¹ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæºç é‡Œé¢èµ‹å€¼ä½¿ç”¨çš„<code>s[1]</code> ã€‚</p> <p>è¿˜æœ‰ä¸€ä¸ªæœ‰æ„æ€çš„ç‚¹ï¼Œå½“å°è¯•å°†è¿”å›ç»“æœè¿›è¡Œå­—ç¬¦ä¸²åŒ–ï¼Œå‘ç°ç»“æœä¼šçœç•¥é™„åŠ å±æ€§ã€‚åªä¿ç•™äº†ç´¢å¼•æ˜¯æ•°å­—çš„å€¼ã€‚</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '[&quot;chrome/96.0.4664.110&quot;,&quot;96.0.4664.110&quot;]'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="getos"><a href="#getos" class="header-anchor">#</a> getOS</h3> <p><strong>è·å–æ“ä½œç³»ç»Ÿç±»å‹ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description è·å–æ“ä½œç³»ç»Ÿç±»å‹
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">getOS</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å–navigatorç›¸å…³å±æ€§ï¼Œå¹¶è¿›è¡Œç±»å‹ä¿æŠ¤</span>
  <span class="token keyword">var</span> userAgent <span class="token operator">=</span>
    <span class="token punctuation">(</span><span class="token string">&quot;navigator&quot;</span> <span class="token keyword">in</span> window <span class="token operator">&amp;&amp;</span>
      <span class="token string">&quot;userAgent&quot;</span> <span class="token keyword">in</span> navigator <span class="token operator">&amp;&amp;</span>
      navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> vendor <span class="token operator">=</span>
    <span class="token punctuation">(</span><span class="token string">&quot;navigator&quot;</span> <span class="token keyword">in</span> window <span class="token operator">&amp;&amp;</span>
      <span class="token string">&quot;vendor&quot;</span> <span class="token keyword">in</span> navigator <span class="token operator">&amp;&amp;</span>
      navigator<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> appVersion <span class="token operator">=</span>
    <span class="token punctuation">(</span><span class="token string">&quot;navigator&quot;</span> <span class="token keyword">in</span> window <span class="token operator">&amp;&amp;</span>
      <span class="token string">&quot;appVersion&quot;</span> <span class="token keyword">in</span> navigator <span class="token operator">&amp;&amp;</span>
      navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// é€šè¿‡æ­£åˆ™æ¥åˆ¤æ–­ç›¸å…³æ“ä½œç³»ç»Ÿç±»å‹ï¼Œå¹¶è¿”å›ç›¸å…³å­—ç¬¦ä¸²</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>
    <span class="token regex">/iphone/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token regex">/ipad/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token regex">/ipod/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">&quot;ios&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/android/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;android&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/win/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>appVersion<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token regex">/phone/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">&quot;windowsPhone&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/mac/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;MacOSX&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/win/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;windows&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/linux/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;linux&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="getscrolltop"><a href="#getscrolltop" class="header-anchor">#</a> getScrollTop</h3> <p><strong>è·å–æ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description è·å–æ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»
 */</span>
<span class="token keyword">function</span> <span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä¼˜å…ˆè·å–document.documentElementä¸‹çš„å±æ€§</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span> <span class="token operator">||</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <p><strong><code>Document.documentElement</code></strong>Â  æ˜¯ä¸€ä¸ªä¼šè¿”å›æ–‡æ¡£å¯¹è±¡ï¼ˆ<code>document</code>ï¼‰çš„<strong>æ ¹å…ƒç´ </strong>çš„<strong>åªè¯»</strong>å±æ€§ï¼ˆå¦‚<code>HTML</code>æ–‡æ¡£çš„<code>&lt;html&gt;</code>å…ƒç´ ï¼‰ã€‚</p> <p>å¯¹äºä»»ä½•éç©º <code>HTML</code> æ–‡æ¡£ï¼Œè°ƒç”¨ Â <code>document.documentElement</code>Â  æ€»æ˜¯ä¼šè¿”å›ä¸€ä¸ª<code>&lt;html&gt;</code>å…ƒç´ ï¼Œä¸”å®ƒä¸€å®šæ˜¯è¯¥æ–‡æ¡£çš„æ ¹å…ƒç´ ã€‚å€ŸåŠ©è¿™ä¸ªåªè¯»å±æ€§ï¼Œèƒ½æ–¹ä¾¿åœ°è·å–åˆ°ä»»æ„æ–‡æ¡£çš„<code>æ ¹å…ƒç´ </code>ã€‚</p> <h3 id="setscrolltop"><a href="#setscrolltop" class="header-anchor">#</a> setScrollTop</h3> <p><strong>è®¾ç½®æ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description è®¾ç½®æ»šåŠ¨æ¡è·é¡¶éƒ¨çš„è·ç¦»
 * @param {Number} value
 */</span>
<span class="token keyword">function</span> <span class="token function">setScrollTop</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨window.scrollToæ»šåŠ¨åˆ°è·é¡¶éƒ¨xè½´ä¸º0ï¼Œyè½´ä¸ºvalueçš„è·ç¦»</span>
  window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <p>1ã€<code>Window.scrollTo()</code> è¡¨ç¤ºæ»šåŠ¨åˆ°æ–‡æ¡£ä¸­çš„æŸä¸ªåæ ‡ã€‚</p> <p>2ã€æ¥å—ä¸¤ç§ç±»å‹çš„å‚æ•°ï¼š</p> <ol><li><code>window.scrollTo(x-coord,y-coord)</code> ã€‚å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ¨ªè½´åæ ‡ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºçºµè½´åæ ‡ã€‚</li> <li><code>window.scrollTo(options)</code> ã€‚å…¶ä¸­ï¼Œ<code>options</code>æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå±æ€§çš„å¯¹è±¡ã€‚
<ol><li><code>top</code> ç­‰åŒäº<code>y-coord</code>ã€‚</li> <li><code>left</code>ç­‰åŒäº<code>x-coord</code>ã€‚</li> <li><code>behavior</code> **ç±»å‹<code>String</code>,è¡¨ç¤ºæ»šåŠ¨è¡Œä¸º,æ”¯æŒå‚æ•° <code>smooth</code>(å¹³æ»‘æ»šåŠ¨),<code>instant</code>(ç¬é—´æ»šåŠ¨),é»˜è®¤å€¼<code>auto</code> (æ•ˆæœä¹Ÿæ˜¯ç¬é—´æ»šåŠ¨)ã€‚</li></ol></li></ol> <p>ä¸¾ä¸ª ğŸŒ°ï¼š</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è®¾ç½®æ»šåŠ¨è¡Œä¸ºæ”¹ä¸ºå¹³æ»‘çš„æ»šåŠ¨</span>
window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  top<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
  behavior<span class="token operator">:</span> <span class="token string">&quot;smooth&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="offset"><a href="#offset" class="header-anchor">#</a> offset</h3> <p><strong>è·å–å…ƒç´ è·ç¦»æ–‡æ¡£(<code>document</code>)çš„ä½ç½®ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description  è·å–ä¸€ä¸ªå…ƒç´ çš„è·ç¦»æ–‡æ¡£(document)çš„ä½ç½®ï¼Œç±»ä¼¼jQä¸­çš„offset()
 * @param {HTMLElement} ele
 * @returns { {left: number, top: number} }
 */</span>
<span class="token keyword">function</span> <span class="token function">offset</span><span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> pos <span class="token operator">=</span> <span class="token punctuation">{</span>
        left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        top<span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// å¾ªç¯è·å–å…ƒç´ çš„offsetLeftå’ŒoffsetTopå±æ€§ï¼Œå¹¶ç´¯åŠ åˆ°posä¸­</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>ele<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pos<span class="token punctuation">.</span>left <span class="token operator">+=</span> ele<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
        pos<span class="token punctuation">.</span>top <span class="token operator">+=</span> ele<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>

				<span class="token comment">// eleæŒ‡å‘è¯¥å…ƒç´ çš„å®šä½å…ƒç´ æˆ–è€…æœ€è¿‘çš„ table,td,th,bodyå…ƒç´ </span>
				<span class="token operator">**</span><span class="token comment">//** å…¶ä¸­bodyå…ƒç´ çš„offsetParentå±æ€§ä¸ºnull</span>
        ele <span class="token operator">=</span> ele<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pos<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <p>1ã€<code>HTMLElement.offsetLeft</code>Â  æ˜¯ä¸€ä¸ª<strong>åªè¯»</strong>å±æ€§ï¼Œè¿”å›å½“å‰å…ƒç´ <strong>å·¦ä¸Šè§’</strong>ç›¸å¯¹äº Â <code>HTMLElement.offsetParent</code>Â  èŠ‚ç‚¹çš„å·¦è¾¹ç•Œåç§»çš„åƒç´ å€¼ã€‚</p> <p>2ã€<code>HTMLElement.offsetTop</code> ****åŒç†ã€‚</p> <p>3ã€å¯¹å—çº§å…ƒç´ æ¥è¯´ï¼Œ<code>offsetTop</code>ã€<code>offsetLeft</code>ã€<code>offsetWidth</code>Â  åŠ Â <code>offsetHeight</code>Â  æè¿°äº†å…ƒç´ ç›¸å¯¹äº Â <code>offsetParent</code>Â  çš„è¾¹ç•Œæ¡†ã€‚</p> <p>4ã€ç„¶è€Œï¼Œå¯¹äºå¯è¢«æˆªæ–­åˆ°ä¸‹ä¸€è¡Œçš„è¡Œå†…å…ƒç´ ï¼ˆå¦‚ Â <strong>span</strong>ï¼‰ï¼Œ<code>offsetTop</code>Â  å’Œ Â <code>offsetLeft</code>Â  æè¿°çš„æ˜¯<em>ç¬¬ä¸€ä¸ª</em>è¾¹ç•Œæ¡†çš„ä½ç½®ï¼ˆä½¿ç”¨ Â <code>Element.getClientRects()</code>Â  æ¥è·å–å…¶å®½åº¦å’Œé«˜åº¦ï¼‰ï¼Œè€Œ Â <code>offsetWidth</code>Â  å’Œ Â <code>offsetHeight</code>Â  æè¿°çš„æ˜¯è¾¹ç•Œæ¡†çš„å°ºå¯¸ï¼ˆä½¿ç”¨ Â <code>Element.getBoundingClientRect</code>Â  æ¥è·å–å…¶ä½ç½®ï¼‰ã€‚å› æ­¤ï¼Œä½¿ç”¨ Â <code>offsetLeftã€offsetTopã€offsetWidth</code>ã€<code>offsetHeight</code>Â  æ¥å¯¹åº” leftã€topã€width å’Œ height çš„ä¸€ä¸ªç›’å­å°†ä¸ä¼šæ˜¯æ–‡æœ¬å®¹å™¨ span çš„ç›’å­è¾¹ç•Œã€‚</p> <p>5ã€<code>HTMLElement.offsetParent</code> æ˜¯ä¸€ä¸ª<strong>åªè¯»</strong>å±æ€§ï¼Œè¿”å›ä¸€ä¸ªæŒ‡å‘æœ€è¿‘çš„ï¼ˆæŒ‡åŒ…å«å±‚çº§ä¸Šçš„æœ€è¿‘ï¼‰åŒ…å«è¯¥å…ƒç´ çš„å®šä½å…ƒç´ æˆ–è€…æœ€è¿‘çš„ Â <code>table,td,th,body</code>å…ƒç´ ã€‚å½“å…ƒç´ çš„ Â <code>style.display</code>Â  è®¾ç½®ä¸º &quot;none&quot; æ—¶ï¼Œ<code>offsetParent</code>Â  è¿”å› Â <code>null</code>ã€‚</p> <h3 id="scrollto"><a href="#scrollto" class="header-anchor">#</a> scrollTo</h3> <p><strong>åœ¨ ${duration}æ—¶é—´å†…ï¼Œæ»šåŠ¨æ¡å¹³æ»‘æ»šåŠ¨åˆ° ${to}æŒ‡å®šä½ç½®ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">var</span> getScrollTop <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./getScrollTop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> setScrollTop <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./setScrollTop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä½¿ç”¨è¯¥APIæ¥é€å¸§æ»šåŠ¨ï¼Œè¾¾åˆ°å¹³æ»‘çš„æ•ˆæœ</span>
<span class="token comment">// åšäº†å…¼å®¹æ€§å¤„ç†ï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒåˆ™é€€åŒ–ä¸ºå®ä»»åŠ¡å®šæ—¶å™¨è§¦å‘</span>
<span class="token keyword">var</span> requestAnimFrame <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span>
    window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span>
    window<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 *
 * @description  åœ¨ ${duration}æ—¶é—´å†…ï¼Œæ»šåŠ¨æ¡å¹³æ»‘æ»šåŠ¨åˆ° ${to}æŒ‡å®šä½ç½®
 * @param {Number} to
 * @param {Number} duration
 */</span>
<span class="token keyword">function</span> <span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> duration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœæ—¶é—´å°äº0ï¼Œåˆ™ç›´æ¥æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</span>
  <span class="token comment">// äº¦æ˜¯é€’å½’ç»ˆæ­¢æ¡ä»¶</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>duration <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setScrollTop</span><span class="token punctuation">(</span>to<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// è®¡ç®—æŒ‡å®šä½ç½®å’Œå½“å‰ä½ç½®çš„å·®å€¼ï¼Œå¯èƒ½ä¸ºè´Ÿæ•°</span>
  <span class="token keyword">var</span> diff <span class="token operator">=</span> to <span class="token operator">-</span> <span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœæŒ‡å®šä½ç½®å°±æ˜¯å½“å‰ä½ç½®ï¼Œåˆ™è¿”å›</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>diff <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

  <span class="token comment">// æŒ‡å®šæ»šåŠ¨çš„æ­¥é•¿</span>
  <span class="token keyword">var</span> step <span class="token operator">=</span> <span class="token punctuation">(</span>diff <span class="token operator">/</span> duration<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token function">requestAnimFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœæ­¥é•¿ç»å¯¹å€¼å¤§äºå·®å€¼ç»å¯¹å€¼ï¼Œé‚£ä¹ˆåˆ™ç›´æ¥æ»šåŠ¨å·®å€¼çš„è·ç¦»ï¼Œå¹¶è¿”å›</span>
    <span class="token comment">// è¿™é‡Œä½¿ç”¨ç»å¯¹å€¼æ˜¯å› ä¸ºå·®å€¼å¯èƒ½ä¸ºè´Ÿæ•°</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>step<span class="token punctuation">)</span> <span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>diff<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setScrollTop</span><span class="token punctuation">(</span><span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> diff<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ ¹æ®æ­¥é•¿é€å¸§æ»šåŠ¨</span>
    <span class="token function">setScrollTop</span><span class="token punctuation">(</span><span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åˆ¤æ–­ä¸´ç•Œå€¼æ¡ä»¶ï¼Œè¾¾åˆ°ä»¥ä¸‹æ¡ä»¶åˆ™æ„å‘³ç€å·²ç»æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</span>
    <span class="token comment">// å¦‚æœè¶…è¿‡æŒ‡å®šä½ç½®ä¹Ÿå°±æ˜¯getScrollTop()å¤§äºæˆ–è€…å°äºtoæ—¶ï¼Œä¼šåœ¨ä¸‹ä¸€å¸§èµ°åˆ°ä¸Šé¢returnçš„æ¡ä»¶</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      <span class="token punctuation">(</span>diff <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> to<span class="token punctuation">)</span> <span class="token operator">||</span>
      <span class="token punctuation">(</span>diff <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">getScrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> to<span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// é€’å½’è°ƒç”¨ï¼Œæ—¶é—´å‡å»16msæ˜¯å› ä¸ºä¸€å¸§ä¸º1000 / 60 ç­‰äº 16.67ms</span>
    <span class="token function">scrollTo</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> duration <span class="token operator">-</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><h3 id="windowresize"><a href="#windowresize" class="header-anchor">#</a> windowResize</h3> <p><strong>H5 è½¯é”®ç›˜ç¼©å›ã€å¼¹èµ·å›è°ƒã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description H5è½¯é”®ç›˜ç¼©å›ã€å¼¹èµ·å›è°ƒ
 * å½“è½¯ä»¶é”®ç›˜å¼¹èµ·ä¼šæ”¹å˜å½“å‰ window.innerHeightï¼Œç›‘å¬è¿™ä¸ªå€¼å˜åŒ–
 * @param {Function} downCb å½“è½¯é”®ç›˜å¼¹èµ·åï¼Œç¼©å›çš„å›è°ƒ
 * @param {Function} upCb å½“è½¯é”®ç›˜å¼¹èµ·çš„å›è°ƒ
 */</span>

<span class="token keyword">function</span> <span class="token function">windowResize</span><span class="token punctuation">(</span><span class="token parameter">downCb<span class="token punctuation">,</span> upCb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> clientHeight <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>

  <span class="token comment">// å…¼å®¹å¤„ç†å‚æ•°ï¼Œé˜²æ­¢ä¼ å…¥éå‡½æ•°</span>
  downCb <span class="token operator">=</span> <span class="token keyword">typeof</span> downCb <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">?</span> <span class="token function-variable function">downCb</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  upCb <span class="token operator">=</span> <span class="token keyword">typeof</span> upCb <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">?</span> <span class="token function-variable function">upCb</span> <span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// ç›‘å¬resizeäº‹ä»¶</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>

    <span class="token comment">// resizeäº‹ä»¶è§¦å‘åï¼Œå¦‚æœä¸¤æ¬¡innerHeightç›¸ç­‰ï¼Œåˆ™æ„å‘³ç€è½¯é”®ç›˜å°†è¦æ”¶ç¼©</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>height <span class="token operator">===</span> clientHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">downCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// innerHeightå˜å°æ„å‘³ç€è½¯é”®ç›˜å°†è¦å¼¹èµ·</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>height <span class="token operator">&lt;</span> clientHeight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">upCb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="throttle"><a href="#throttle" class="header-anchor">#</a> throttle</h3> <p><strong>å‡½æ•°èŠ‚æµã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description  å‡½æ•°èŠ‚æµã€‚
 * é€‚ç”¨äºé™åˆ¶`resize`å’Œ`scroll`ç­‰å‡½æ•°çš„è°ƒç”¨é¢‘ç‡
 *
 * @param  {Number}    delay          0 æˆ–è€…æ›´å¤§çš„æ¯«ç§’æ•°ã€‚ å¯¹äºäº‹ä»¶å›è°ƒï¼Œå¤§çº¦100æˆ–250æ¯«ç§’ï¼ˆæˆ–æ›´é«˜ï¼‰çš„å»¶è¿Ÿæ˜¯æœ€æœ‰ç”¨çš„ã€‚
 * @param  {Boolean}   noTrailing     å¯é€‰ï¼Œé»˜è®¤ä¸ºfalseã€‚
 *                                    å¦‚æœnoTrailingä¸ºtrueï¼Œå½“èŠ‚æµå‡½æ•°è¢«è°ƒç”¨ï¼Œæ¯è¿‡`delay`æ¯«ç§’`callback`ä¹Ÿå°†æ‰§è¡Œä¸€æ¬¡ã€‚
 *                                    å¦‚æœnoTrailingä¸ºfalseæˆ–è€…æœªä¼ å…¥ï¼Œ`callback`å°†åœ¨æœ€åä¸€æ¬¡è°ƒç”¨èŠ‚æµå‡½æ•°åå†æ‰§è¡Œä¸€æ¬¡.
 *                                    ï¼ˆå»¶è¿Ÿ`delay`æ¯«ç§’ä¹‹åï¼ŒèŠ‚æµå‡½æ•°æ²¡æœ‰è¢«è°ƒç”¨,å†…éƒ¨è®¡æ•°å™¨ä¼šå¤ä½ï¼‰
 * @param  {Function}  callback       å»¶è¿Ÿæ¯«ç§’åæ‰§è¡Œçš„å‡½æ•°ã€‚`this`ä¸Šä¸‹æ–‡å’Œæ‰€æœ‰å‚æ•°éƒ½æ˜¯æŒ‰åŸæ ·ä¼ é€’çš„ï¼Œ
 *                                    æ‰§è¡Œå»èŠ‚æµåŠŸèƒ½æ—¶ï¼Œè°ƒç”¨`callback`ã€‚
 * @param  {Boolean}   debounceMode   å¦‚æœ`debounceMode`ä¸ºtrueï¼Œ`clear`åœ¨`delay`msåæ‰§è¡Œã€‚
 *                                    å¦‚æœdebounceModeæ˜¯falseï¼Œ`callback`åœ¨`delay` msä¹‹åæ‰§è¡Œã€‚
 *
 * @return {Function}  æ–°çš„èŠ‚æµå‡½æ•°
 */</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">delay<span class="token punctuation">,</span> noTrailing<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> debounceMode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// After wrapper has stopped being called, this timeout ensures that</span>
  <span class="token comment">// `callback` is executed at the proper times in `throttle` and `end`</span>
  <span class="token comment">// debounce modes.</span>
  <span class="token keyword">var</span> timeoutID<span class="token punctuation">;</span>

  <span class="token comment">// Keep track of the last time `callback` was executed.</span>
  <span class="token keyword">var</span> lastExec <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// `noTrailing` defaults to falsy.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> noTrailing <span class="token operator">!==</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    debounceMode <span class="token operator">=</span> callback<span class="token punctuation">;</span>
    callback <span class="token operator">=</span> noTrailing<span class="token punctuation">;</span>
    noTrailing <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// The `wrapper` function encapsulates all of the throttling / debouncing</span>
  <span class="token comment">// functionality and when executed will limit the rate at which `callback`</span>
  <span class="token comment">// is executed.</span>
  <span class="token keyword">function</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> elapsed <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> lastExec<span class="token punctuation">;</span>
    <span class="token keyword">var</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token comment">// Execute `callback` and update the `lastExec` timestamp.</span>
    <span class="token keyword">function</span> <span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      lastExec <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// If `debounceMode` is true (at begin) this is used to clear the flag</span>
    <span class="token comment">// to allow future `callback` executions.</span>
    <span class="token keyword">function</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeoutID <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>debounceMode <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>timeoutID<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Since `wrapper` is being called for the first time and</span>
      <span class="token comment">// `debounceMode` is true (at begin), execute `callback`.</span>
      <span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Clear any existing timeout.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeoutID<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeoutID<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>debounceMode <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> elapsed <span class="token operator">&gt;</span> delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// In throttle mode, if `delay` time has been exceeded, execute</span>
      <span class="token comment">// `callback`.</span>
      <span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>noTrailing <span class="token operator">!==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// In trailing throttle mode, since `delay` time has not been</span>
      <span class="token comment">// exceeded, schedule `callback` to execute `delay` ms after most</span>
      <span class="token comment">// recent execution.</span>
      <span class="token comment">//</span>
      <span class="token comment">// If `debounceMode` is true (at begin), schedule `clear` to execute</span>
      <span class="token comment">// after `delay` ms.</span>
      <span class="token comment">//</span>
      <span class="token comment">// If `debounceMode` is false (at end), schedule `callback` to</span>
      <span class="token comment">// execute after `delay` ms.</span>
      timeoutID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>
        debounceMode <span class="token operator">?</span> clear <span class="token operator">:</span> exec<span class="token punctuation">,</span>
        debounceMode <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> delay <span class="token operator">-</span> elapsed <span class="token operator">:</span> delay
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Return the wrapper function.</span>
  <span class="token keyword">return</span> wrapper<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br></div></div><h3 id="debounce"><a href="#debounce" class="header-anchor">#</a> debounce</h3> <p><strong>å‡½æ•°é˜²æŠ–ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">var</span> throttle <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./throttle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * @description å‡½æ•°é˜²æŠ– 
 * ä¸throttleä¸åŒçš„æ˜¯ï¼Œdebounceä¿è¯ä¸€ä¸ªå‡½æ•°åœ¨å¤šå°‘æ¯«ç§’å†…ä¸å†è¢«è§¦å‘ï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œ
 * è¦ä¹ˆåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨returnçš„é˜²æŠ–å‡½æ•°æ—¶æ‰§è¡Œï¼Œè¦ä¹ˆåœ¨å»¶è¿ŸæŒ‡å®šæ¯«ç§’åè°ƒç”¨ã€‚
 * @example é€‚ç”¨åœºæ™¯ï¼šå¦‚åœ¨çº¿ç¼–è¾‘çš„è‡ªåŠ¨å­˜å‚¨é˜²æŠ–ã€‚
 * @param  {Number}   delay         0æˆ–è€…æ›´å¤§çš„æ¯«ç§’æ•°ã€‚ å¯¹äºäº‹ä»¶å›è°ƒï¼Œå¤§çº¦100æˆ–250æ¯«ç§’ï¼ˆæˆ–æ›´é«˜ï¼‰çš„å»¶è¿Ÿæ˜¯æœ€æœ‰ç”¨çš„ã€‚
 * @param  {Boolean}  atBegin       å¯é€‰ï¼Œé»˜è®¤ä¸ºfalseã€‚
 *                                  å¦‚æœ`atBegin`ä¸ºfalseæˆ–æœªä¼ å…¥ï¼Œå›è°ƒå‡½æ•°åˆ™åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨returnçš„é˜²æŠ–å‡½æ•°åå»¶è¿ŸæŒ‡å®šæ¯«ç§’è°ƒç”¨ã€‚
                                    å¦‚æœ`atBegin`ä¸ºtrueï¼Œå›è°ƒå‡½æ•°åˆ™åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨returnçš„é˜²æŠ–å‡½æ•°æ—¶ç›´æ¥æ‰§è¡Œ
 * @param  {Function} callback      å»¶è¿Ÿæ¯«ç§’åæ‰§è¡Œçš„å‡½æ•°ã€‚`this`ä¸Šä¸‹æ–‡å’Œæ‰€æœ‰å‚æ•°éƒ½æ˜¯æŒ‰åŸæ ·ä¼ é€’çš„ï¼Œ
 *                                  æ‰§è¡Œå»æŠ–åŠ¨åŠŸèƒ½æ—¶ï¼Œï¼Œè°ƒç”¨`callback`ã€‚
 *
 * @return {Function} æ–°çš„é˜²æŠ–å‡½æ•°ã€‚
 */</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">delay<span class="token punctuation">,</span> atBegin<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> callback <span class="token operator">===</span> <span class="token keyword">undefined</span>
    <span class="token operator">?</span> <span class="token function">throttle</span><span class="token punctuation">(</span>delay<span class="token punctuation">,</span> atBegin<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">throttle</span><span class="token punctuation">(</span>delay<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> atBegin <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="getkeyname"><a href="#getkeyname" class="header-anchor">#</a> getKeyName</h3> <p><strong>æ ¹æ®<code>keycode</code>è·å¾—é”®åã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">var</span> keyCodeMap <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">8</span><span class="token operator">:</span> <span class="token string">&quot;Backspace&quot;</span><span class="token punctuation">,</span>
  <span class="token number">9</span><span class="token operator">:</span> <span class="token string">&quot;Tab&quot;</span><span class="token punctuation">,</span>
  <span class="token number">13</span><span class="token operator">:</span> <span class="token string">&quot;Enter&quot;</span><span class="token punctuation">,</span>
  <span class="token number">16</span><span class="token operator">:</span> <span class="token string">&quot;Shift&quot;</span><span class="token punctuation">,</span>
  <span class="token number">17</span><span class="token operator">:</span> <span class="token string">&quot;Ctrl&quot;</span><span class="token punctuation">,</span>
  <span class="token number">18</span><span class="token operator">:</span> <span class="token string">&quot;Alt&quot;</span><span class="token punctuation">,</span>
  <span class="token number">19</span><span class="token operator">:</span> <span class="token string">&quot;Pause&quot;</span><span class="token punctuation">,</span>
  <span class="token number">20</span><span class="token operator">:</span> <span class="token string">&quot;Caps Lock&quot;</span><span class="token punctuation">,</span>
  <span class="token number">27</span><span class="token operator">:</span> <span class="token string">&quot;Escape&quot;</span><span class="token punctuation">,</span>
  <span class="token number">32</span><span class="token operator">:</span> <span class="token string">&quot;Space&quot;</span><span class="token punctuation">,</span>
  <span class="token number">33</span><span class="token operator">:</span> <span class="token string">&quot;Page Up&quot;</span><span class="token punctuation">,</span>
  <span class="token number">34</span><span class="token operator">:</span> <span class="token string">&quot;Page Down&quot;</span><span class="token punctuation">,</span>
  <span class="token number">35</span><span class="token operator">:</span> <span class="token string">&quot;End&quot;</span><span class="token punctuation">,</span>
  <span class="token number">36</span><span class="token operator">:</span> <span class="token string">&quot;Home&quot;</span><span class="token punctuation">,</span>
  <span class="token number">37</span><span class="token operator">:</span> <span class="token string">&quot;Left&quot;</span><span class="token punctuation">,</span>
  <span class="token number">38</span><span class="token operator">:</span> <span class="token string">&quot;Up&quot;</span><span class="token punctuation">,</span>
  <span class="token number">39</span><span class="token operator">:</span> <span class="token string">&quot;Right&quot;</span><span class="token punctuation">,</span>
  <span class="token number">40</span><span class="token operator">:</span> <span class="token string">&quot;Down&quot;</span><span class="token punctuation">,</span>
  <span class="token number">42</span><span class="token operator">:</span> <span class="token string">&quot;Print Screen&quot;</span><span class="token punctuation">,</span>
  <span class="token number">45</span><span class="token operator">:</span> <span class="token string">&quot;Insert&quot;</span><span class="token punctuation">,</span>
  <span class="token number">46</span><span class="token operator">:</span> <span class="token string">&quot;Delete&quot;</span><span class="token punctuation">,</span>

  <span class="token number">48</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token number">49</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token number">50</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
  <span class="token number">51</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
  <span class="token number">52</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span>
  <span class="token number">53</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
  <span class="token number">54</span><span class="token operator">:</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span>
  <span class="token number">55</span><span class="token operator">:</span> <span class="token string">&quot;7&quot;</span><span class="token punctuation">,</span>
  <span class="token number">56</span><span class="token operator">:</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span>
  <span class="token number">57</span><span class="token operator">:</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">,</span>

  <span class="token number">65</span><span class="token operator">:</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span>
  <span class="token number">66</span><span class="token operator">:</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span>
  <span class="token number">67</span><span class="token operator">:</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">,</span>
  <span class="token number">68</span><span class="token operator">:</span> <span class="token string">&quot;D&quot;</span><span class="token punctuation">,</span>
  <span class="token number">69</span><span class="token operator">:</span> <span class="token string">&quot;E&quot;</span><span class="token punctuation">,</span>
  <span class="token number">70</span><span class="token operator">:</span> <span class="token string">&quot;F&quot;</span><span class="token punctuation">,</span>
  <span class="token number">71</span><span class="token operator">:</span> <span class="token string">&quot;G&quot;</span><span class="token punctuation">,</span>
  <span class="token number">72</span><span class="token operator">:</span> <span class="token string">&quot;H&quot;</span><span class="token punctuation">,</span>
  <span class="token number">73</span><span class="token operator">:</span> <span class="token string">&quot;I&quot;</span><span class="token punctuation">,</span>
  <span class="token number">74</span><span class="token operator">:</span> <span class="token string">&quot;J&quot;</span><span class="token punctuation">,</span>
  <span class="token number">75</span><span class="token operator">:</span> <span class="token string">&quot;K&quot;</span><span class="token punctuation">,</span>
  <span class="token number">76</span><span class="token operator">:</span> <span class="token string">&quot;L&quot;</span><span class="token punctuation">,</span>
  <span class="token number">77</span><span class="token operator">:</span> <span class="token string">&quot;M&quot;</span><span class="token punctuation">,</span>
  <span class="token number">78</span><span class="token operator">:</span> <span class="token string">&quot;N&quot;</span><span class="token punctuation">,</span>
  <span class="token number">79</span><span class="token operator">:</span> <span class="token string">&quot;O&quot;</span><span class="token punctuation">,</span>
  <span class="token number">80</span><span class="token operator">:</span> <span class="token string">&quot;P&quot;</span><span class="token punctuation">,</span>
  <span class="token number">81</span><span class="token operator">:</span> <span class="token string">&quot;Q&quot;</span><span class="token punctuation">,</span>
  <span class="token number">82</span><span class="token operator">:</span> <span class="token string">&quot;R&quot;</span><span class="token punctuation">,</span>
  <span class="token number">83</span><span class="token operator">:</span> <span class="token string">&quot;S&quot;</span><span class="token punctuation">,</span>
  <span class="token number">84</span><span class="token operator">:</span> <span class="token string">&quot;T&quot;</span><span class="token punctuation">,</span>
  <span class="token number">85</span><span class="token operator">:</span> <span class="token string">&quot;U&quot;</span><span class="token punctuation">,</span>
  <span class="token number">86</span><span class="token operator">:</span> <span class="token string">&quot;V&quot;</span><span class="token punctuation">,</span>
  <span class="token number">87</span><span class="token operator">:</span> <span class="token string">&quot;W&quot;</span><span class="token punctuation">,</span>
  <span class="token number">88</span><span class="token operator">:</span> <span class="token string">&quot;X&quot;</span><span class="token punctuation">,</span>
  <span class="token number">89</span><span class="token operator">:</span> <span class="token string">&quot;Y&quot;</span><span class="token punctuation">,</span>
  <span class="token number">90</span><span class="token operator">:</span> <span class="token string">&quot;Z&quot;</span><span class="token punctuation">,</span>

  <span class="token number">91</span><span class="token operator">:</span> <span class="token string">&quot;Windows&quot;</span><span class="token punctuation">,</span>
  <span class="token number">93</span><span class="token operator">:</span> <span class="token string">&quot;Right Click&quot;</span><span class="token punctuation">,</span>

  <span class="token number">96</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 0&quot;</span><span class="token punctuation">,</span>
  <span class="token number">97</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 1&quot;</span><span class="token punctuation">,</span>
  <span class="token number">98</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 2&quot;</span><span class="token punctuation">,</span>
  <span class="token number">99</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 3&quot;</span><span class="token punctuation">,</span>
  <span class="token number">100</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 4&quot;</span><span class="token punctuation">,</span>
  <span class="token number">101</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 5&quot;</span><span class="token punctuation">,</span>
  <span class="token number">102</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 6&quot;</span><span class="token punctuation">,</span>
  <span class="token number">103</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 7&quot;</span><span class="token punctuation">,</span>
  <span class="token number">104</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 8&quot;</span><span class="token punctuation">,</span>
  <span class="token number">105</span><span class="token operator">:</span> <span class="token string">&quot;Numpad 9&quot;</span><span class="token punctuation">,</span>
  <span class="token number">106</span><span class="token operator">:</span> <span class="token string">&quot;Numpad *&quot;</span><span class="token punctuation">,</span>
  <span class="token number">107</span><span class="token operator">:</span> <span class="token string">&quot;Numpad +&quot;</span><span class="token punctuation">,</span>
  <span class="token number">109</span><span class="token operator">:</span> <span class="token string">&quot;Numpad -&quot;</span><span class="token punctuation">,</span>
  <span class="token number">110</span><span class="token operator">:</span> <span class="token string">&quot;Numpad .&quot;</span><span class="token punctuation">,</span>
  <span class="token number">111</span><span class="token operator">:</span> <span class="token string">&quot;Numpad /&quot;</span><span class="token punctuation">,</span>

  <span class="token number">112</span><span class="token operator">:</span> <span class="token string">&quot;F1&quot;</span><span class="token punctuation">,</span>
  <span class="token number">113</span><span class="token operator">:</span> <span class="token string">&quot;F2&quot;</span><span class="token punctuation">,</span>
  <span class="token number">114</span><span class="token operator">:</span> <span class="token string">&quot;F3&quot;</span><span class="token punctuation">,</span>
  <span class="token number">115</span><span class="token operator">:</span> <span class="token string">&quot;F4&quot;</span><span class="token punctuation">,</span>
  <span class="token number">116</span><span class="token operator">:</span> <span class="token string">&quot;F5&quot;</span><span class="token punctuation">,</span>
  <span class="token number">117</span><span class="token operator">:</span> <span class="token string">&quot;F6&quot;</span><span class="token punctuation">,</span>
  <span class="token number">118</span><span class="token operator">:</span> <span class="token string">&quot;F7&quot;</span><span class="token punctuation">,</span>
  <span class="token number">119</span><span class="token operator">:</span> <span class="token string">&quot;F8&quot;</span><span class="token punctuation">,</span>
  <span class="token number">120</span><span class="token operator">:</span> <span class="token string">&quot;F9&quot;</span><span class="token punctuation">,</span>
  <span class="token number">121</span><span class="token operator">:</span> <span class="token string">&quot;F10&quot;</span><span class="token punctuation">,</span>
  <span class="token number">122</span><span class="token operator">:</span> <span class="token string">&quot;F11&quot;</span><span class="token punctuation">,</span>
  <span class="token number">123</span><span class="token operator">:</span> <span class="token string">&quot;F12&quot;</span><span class="token punctuation">,</span>

  <span class="token number">144</span><span class="token operator">:</span> <span class="token string">&quot;Num Lock&quot;</span><span class="token punctuation">,</span>
  <span class="token number">145</span><span class="token operator">:</span> <span class="token string">&quot;Scroll Lock&quot;</span><span class="token punctuation">,</span>
  <span class="token number">182</span><span class="token operator">:</span> <span class="token string">&quot;My Computer&quot;</span><span class="token punctuation">,</span>
  <span class="token number">183</span><span class="token operator">:</span> <span class="token string">&quot;My Calculator&quot;</span><span class="token punctuation">,</span>
  <span class="token number">186</span><span class="token operator">:</span> <span class="token string">&quot;;&quot;</span><span class="token punctuation">,</span>
  <span class="token number">187</span><span class="token operator">:</span> <span class="token string">&quot;=&quot;</span><span class="token punctuation">,</span>
  <span class="token number">188</span><span class="token operator">:</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">,</span>
  <span class="token number">189</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token number">190</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span>
  <span class="token number">191</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
  <span class="token number">192</span><span class="token operator">:</span> <span class="token string">&quot;`&quot;</span><span class="token punctuation">,</span>
  <span class="token number">219</span><span class="token operator">:</span> <span class="token string">&quot;[&quot;</span><span class="token punctuation">,</span>
  <span class="token number">220</span><span class="token operator">:</span> <span class="token string">&quot;\\&quot;</span><span class="token punctuation">,</span>
  <span class="token number">221</span><span class="token operator">:</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">,</span>
  <span class="token number">222</span><span class="token operator">:</span> <span class="token string">&quot;'&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @description æ ¹æ®keycodeè·å¾—é”®å
 * @param  {Number} keycode
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">getKeyName</span><span class="token punctuation">(</span><span class="token parameter">keycode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœkeycodeå­˜åœ¨äºç»´æŠ¤çš„æ•£åˆ—è¡¨é‡Œï¼Œåˆ™è¿”å›å¯¹åº”çš„å€¼</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCodeMap<span class="token punctuation">[</span>keycode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> keyCodeMap<span class="token punctuation">[</span>keycode<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// å¦åˆ™æ‰“å°é”™è¯¯ï¼Œå¹¶è¿”å›ç©ºå­—ç¬¦ä¸²</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Unknow Key(Key Code:&quot;</span> <span class="token operator">+</span> keycode <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br></div></div><h3 id="deepclone"><a href="#deepclone" class="header-anchor">#</a> deepClone</h3> <p><strong>æ·±æ‹·è´ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description æ·±æ‹·è´ï¼Œæ”¯æŒå¸¸è§ç±»å‹
 * @param {Any} values
 * @return {Any}
 */</span>
<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> copy<span class="token punctuation">;</span>

  <span class="token comment">// å¤„ç†nullã€undefinedä»¥åŠåŸå§‹ç±»å‹çš„æƒ…å†µï¼Œç›´æ¥è¿”å›</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> values <span class="token operator">||</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">!=</span> <span class="token keyword">typeof</span> values<span class="token punctuation">)</span> <span class="token keyword">return</span> values<span class="token punctuation">;</span>

  <span class="token comment">// å¤„ç†Dateï¼Œå…ˆè·å–æ—¶é—´ï¼Œå†è®¾ç½®æ—¶é—´å¹¶è¿”å›</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>values <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    copy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    copy<span class="token punctuation">.</span><span class="token function">setTime</span><span class="token punctuation">(</span>values<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> copy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å¤„ç†æ•°ç»„ï¼Œå¾ªç¯æ¯ä¸€é¡¹ï¼ŒåŒæ—¶é€’å½’è°ƒç”¨æ·±æ‹·è´å‡½æ•°å¹¶èµ‹å€¼</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>values <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    copy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> values<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      copy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>values<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> copy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å¤„ç†å¯¹è±¡ï¼Œå¾ªç¯æ¯ä¸€é¡¹ï¼Œå¦‚æœæ˜¯è‡ªæœ‰å±æ€§å°±é€’å½’è°ƒç”¨æ·±æ‹·è´å‡½æ•°å¹¶èµ‹å€¼</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>values <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    copy <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> attr <span class="token keyword">in</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>values<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">)</span> copy<span class="token punctuation">[</span>attr<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>values<span class="token punctuation">[</span>attr<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> copy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å¼‚å¸¸å¤„ç†</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Unable to copy values! Its type isn't supported.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="isemptyobject"><a href="#isemptyobject" class="header-anchor">#</a> isEmptyObject</h3> <p><strong>åˆ¤æ–­<code>obj</code>æ˜¯å¦ä¸ºç©ºã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   åˆ¤æ–­`obj`æ˜¯å¦ä¸ºç©º
 * @param  {Object} obj
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isEmptyObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœå€¼ä¸ºfalsyã€ç±»å‹ä¸ä¸º`object`ã€æ˜¯æ•°ç»„åˆ™è¿”å›false</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœå¯¹è±¡æ²¡æœ‰è‡ªèº«å¯æšä¸¾çš„é”®ï¼Œåˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false</span>
  <span class="token keyword">return</span> <span class="token operator">!</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <ol><li><strong><code>Object.keys()</code></strong>Â  æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªç”±ä¸€ä¸ªç»™å®šå¯¹è±¡çš„<strong>è‡ªèº«å¯æšä¸¾</strong>å±æ€§ç»„æˆçš„æ•°ç»„ï¼Œæ•°ç»„ä¸­å±æ€§åçš„æ’åˆ—é¡ºåºå’Œæ­£å¸¸å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ ã€‚</li> <li><strong><code>Object.getOwnPropertyNames()</code><strong>æ–¹æ³•è¿”å›ä¸€ä¸ªç”±æŒ‡å®šå¯¹è±¡çš„</strong>æ‰€æœ‰è‡ªèº«å±æ€§</strong>çš„å±æ€§åï¼ˆåŒ…æ‹¬ä¸å¯æšä¸¾å±æ€§ä½†ä¸åŒ…æ‹¬ Symbol å€¼ä½œä¸ºåç§°çš„å±æ€§ï¼‰ç»„æˆçš„æ•°ç»„ã€‚</li></ol> <h3 id="randomcolor"><a href="#randomcolor" class="header-anchor">#</a> randomColor</h3> <p><strong>éšæœºç”Ÿæˆé¢œè‰²ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description éšæœºç”Ÿæˆé¢œè‰²
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">randomColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;#&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token string">&quot;00000&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0x1000000</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <ol><li><p>æ ¹æ®è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œä¹˜(<code>*</code>)çš„ä¼˜å…ˆçº§å¤§äºæŒ‰ä½å·¦ç§»(<code>&lt;&lt;</code>)ï¼Œç”±äºç”Ÿæˆçš„éšæœºé¢œè‰²æ˜¯ 16 è¿›åˆ¶çš„ 6 ä½æ•°ï¼Œå› æ­¤å°† 16 è¿›åˆ¶çš„ 7 ä½æ•°ä¸ä¼ªéšæœºç›¸ä¹˜ï¼Œç”Ÿæˆçš„ 16 è¿›åˆ¶åˆšå¥½æ˜¯ 6 ä½ã€‚</p></li> <li><p>ç”Ÿæˆéšæœºæ•°åè¿›è¡ŒæŒ‰ä½å·¦ç§» 0 ä½ï¼Œç›®çš„æ˜¯è¿›è¡Œå–æ•´ã€‚<strong>å·¦ç§»æ“ä½œç¬¦ Â (<code>&lt;&lt;</code>)</strong>Â  å°†ç¬¬ä¸€ä¸ªæ“ä½œæ•°å‘å·¦ç§»åŠ¨æŒ‡å®šä½æ•°ï¼Œå·¦è¾¹è¶…å‡ºçš„ä½æ•°å°†ä¼šè¢«æ¸…é™¤ï¼Œå³è¾¹å°†ä¼šè¡¥é›¶ã€‚é€šè¿‡ä½è¿ç®—è¿›è¡Œå–æ•´çš„æ–¹å¼æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p> <p>æ–¹å¼ 1ï¼šä¸ 0 è¿›è¡Œæˆ–è¿ç®— <code>x|0</code></p> <p>æ–¹å¼ 2ï¼šä¸-1 è¿›è¡Œä¸è¿ç®—<code>x&amp;-1</code></p> <p>æ–¹å¼ 3ï¼šä¸ 0 å¼‚æˆ– <code>x^0</code></p> <p>æ–¹å¼ 4ï¼šåŒéè¿ç®— <code>~~x</code></p> <p>æ–¹å¼ 5ï¼šä¸åŒä¸€ä¸ªæ•°ä¸¤æ¬¡å¼‚æˆ– <code>x^a^a</code></p> <p>æ–¹å¼ 6ï¼šå·¦ç§» 0 ä½ <code>x&lt;&lt;0</code></p> <p>æ–¹å¼ 7ï¼šæœ‰ç¬¦å·å³ç§» 0 ä½ <code>x&gt;&gt;0</code></p> <p>æ–¹å¼ 8ï¼šå¯¹æ­£æ•°æ— ç¬¦å·å³ç§» 0 ä½ <code>x&gt;&gt;&gt;0</code></p> <p>æ–¹å¼ 9ï¼šæ— ç¬¦å·å³ç§» 0 ä½å†ä¸ 0 è¿›è¡Œæˆ–è¿ç®— <code>x&gt;&gt;&gt;0|0</code></p> <p>æ–¹å¼ 10ï¼šæ— ç¬¦å·å³ç§» 0 ä½å†ä¸ 0 è¿›è¡Œå¼‚æˆ–è¿ç®— <code>x&gt;&gt;&gt;0^0</code></p></li> <li><p><strong><code>Math.random()</code></strong>Â  å‡½æ•°è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°,Â  ä¼ªéšæœºæ•°åœ¨èŒƒå›´ä»<strong>0</strong>åˆ°å°äº<strong>1</strong>([0,1))ã€‚å¦‚æœç¢°å·§éšæœºå‡º 0ï¼Œé‚£ä¹ˆéœ€è¦è¡¥é½ 6 ä½ã€‚æ‰€ä»¥éœ€è¦ä½¿ç”¨<code>â€™00000â€™</code>æ·»åŠ å‰ç¼€ã€‚è¿™é‡Œè¿˜è®¾è®¡åˆ°éšå¼è½¬æ¢ï¼Œæœ€ç»ˆè½¬æ¢ä¸ºäº†å­—ç¬¦ä¸²ã€‚</p></li> <li><p><code>Number.prototype.toString()</code>æ–¹æ³•è¿”å›æŒ‡å®š Â <code>Number</code>Â  å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚å…¶ä¸­æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°è¡¨ç¤ºæŒ‡å®šè¦ç”¨äºæ•°å­—åˆ°å­—ç¬¦ä¸²çš„è½¬æ¢çš„åŸºæ•°(ä» 2 åˆ° 36)ã€‚å¦‚æœæœªæŒ‡å®šå‚æ•°ï¼Œåˆ™<strong>é»˜è®¤å€¼ä¸º 10</strong>ã€‚ç”±äºä½¿ç”¨ä¼ªéšæœºä¸<code>0x1000000</code> ç›¸ä¹˜å¹¶å–æ•´è¿”å›çš„æ˜¯ 10 è¿›åˆ¶ï¼Œå› æ­¤éœ€è¦é€šè¿‡<code>toString(16)</code> è½¬æ¢ä¸º 16 è¿›åˆ¶ã€‚</p></li> <li><p><code>String.prototype.slice()</code>æ–¹æ³•æå–æŸä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶<strong>è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</strong>ï¼Œä¸”<strong>ä¸ä¼šæ”¹åŠ¨åŸå­—ç¬¦ä¸²</strong>ã€‚è¯¥æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚</p> <ol><li><strong>beginIndexã€‚</strong> ä»è¯¥ç´¢å¼•ï¼ˆä»¥ 0 ä¸ºåŸºæ•°ï¼‰å¤„å¼€å§‹æå–åŸå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚å¦‚æœå€¼ä¸ºè´Ÿæ•°ï¼Œä¼šè¢«å½“åš Â <code>strLength + beginIndex</code>Â  çœ‹å¾…ã€‚å…¶ä¸­<code>strLength</code> ä¸ºå­—ç¬¦ä¸²é•¿åº¦ã€‚</li> <li><strong>endIndexã€‚</strong> è¯¥å‚æ•°å¯é€‰ã€‚åœ¨è¯¥ç´¢å¼•ï¼ˆä»¥ 0 ä¸ºåŸºæ•°ï¼‰å¤„ç»“æŸæå–å­—ç¬¦ä¸²ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œ<code>slice()</code>Â  ä¼šä¸€ç›´æå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚å¦‚æœè¯¥å‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¢«çœ‹ä½œæ˜¯ <code>strLength + endIndex</code>ã€‚</li></ol></li> <li><p>å›åˆ°ä¸Šè¿°æºç ï¼Œæ•´ä½“æ¥çœ‹æœ€ç»ˆç»“æœä¼šæœ‰ä¸¤ç§ï¼š</p> <ol><li>å½“<code>Math.random()</code> ä¸º 0 æ—¶ï¼Œ<code>('00000' + (Math.random() * 0x1000000 &lt;&lt; 0).toString(16))</code> è¿”å› <code>'000000'</code> ã€‚é€šè¿‡<code>slice(-6)</code> ï¼ŒæŒ‰ç…§æˆªå–è§„åˆ™ï¼Œç›¸å½“äº<code>slice(6 + (-6))</code>ï¼Œä¹Ÿå°±æ˜¯<code>slice(0)</code>ï¼Œé‚£ä¹ˆæœ€ç»ˆå°±æ˜¯æˆªå–æ•´ä¸ªå­—ç¬¦ä¸²ã€‚</li> <li>å½“<code>Math.random()</code> ä¸ä¸º 0 æ—¶ï¼Œ<code>('00000' + (Math.random() * 0x1000000 &lt;&lt; 0).toString(16))</code> è¿”å› <code>'00000bd4f6c'</code> (éšæœº) ã€‚æŒ‰ç…§æˆªå–è§„åˆ™ï¼Œç›¸å½“äº<code>slice(11 + (-6))</code> ï¼Œä¹Ÿå°±æ˜¯<code>slice(5)</code> ï¼Œæœ€ç»ˆæˆªå–å°±æ˜¯ä»ç¬¬ 5 ä¸ªç´¢å¼•å¼€å§‹æˆªå–ï¼Œç›´åˆ°æœ€å( <code>'bd4f6c'</code>)ã€‚</li> <li>æœ€åä¸€æ­¥æ‹¼æ¥<code>#</code>ï¼Œå¹¶è¿”å›ã€‚</li></ol></li></ol> <h3 id="randomnum"><a href="#randomnum" class="header-anchor">#</a> randomNum</h3> <p><strong>ç”ŸæˆæŒ‡å®šèŒƒå›´<code>[min, max]</code>çš„éšæœºæ•°ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description ç”ŸæˆæŒ‡å®šèŒƒå›´[min, max]çš„éšæœºæ•°
 * @param  {Number} min
 * @param  {Number} max
 * @return {Number}
 */</span>
<span class="token keyword">function</span> <span class="token function">randomNum</span><span class="token punctuation">(</span><span class="token parameter">min<span class="token punctuation">,</span> max</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å‘ä¸Šå–æ•´æœ€å°èŒƒå›´</span>
  min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// å‘ä¸‹å–æ•´æœ€å¤§èŒƒå›´</span>
  max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>max<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ç”±äºä¼ªéšæœºæ•°æ— æ³•å–1ï¼Œå› æ­¤éœ€è¦å†åŠ ä¸€è¿›è¡Œéšæœºï¼Œæ–¹å¯éšæœºåˆ°max</span>
  <span class="token comment">// å‘ä¸‹å–æ•´æœ€å¤§å€¼ï¼Œå¹¶ä¸æœ€å°å€¼ç›¸åŠ å°±æ˜¯æœ€åçš„éšæœºå€¼</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="iscolor"><a href="#iscolor" class="header-anchor">#</a> isColor</h3> <p><strong>åˆ¤æ–­æ˜¯å¦ä¸º 16 è¿›åˆ¶é¢œè‰²ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description åˆ¤æ–­æ˜¯å¦ä¸º16è¿›åˆ¶é¢œè‰²ï¼Œrgb æˆ– rgba
 * @param  {String}  str
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isColor</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åŒ¹é…å½¢å¦‚ #fffã€#fffffffã€rgb(255,255,255)ã€rgba(255,255,255,1.0)</span>
  <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span>#<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">9</span>a<span class="token operator">-</span>fA<span class="token operator">-</span><span class="token constant">F</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">|</span><span class="token punctuation">[</span>rR<span class="token punctuation">]</span><span class="token punctuation">[</span>gG<span class="token punctuation">]</span><span class="token punctuation">[</span>Bb<span class="token punctuation">]</span><span class="token punctuation">(</span>\<span class="token punctuation">(</span><span class="token punctuation">(</span>\s<span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>\d<span class="token operator">|</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">?</span>\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token string">&quot;0-9a-fA-F]{3}){1,2}|[rR][gG][Bb&quot;</span><span class="token punctuation">)</span>\s<span class="token operator">*</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span>\s<span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>\d<span class="token operator">|</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">?</span>\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\s<span class="token operator">*</span>\<span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">[</span>Aa<span class="token punctuation">]</span>\<span class="token punctuation">(</span><span class="token punctuation">(</span>\s<span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>\d<span class="token operator">|</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">?</span>\d<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\s<span class="token operator">*</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span>\s<span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token operator">|</span><span class="token number">0</span>\<span class="token punctuation">.</span>\d<span class="token operator">+</span><span class="token punctuation">)</span>\s<span class="token operator">*</span>\<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
    str
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div align="center"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f59bf5a363554765bb216d072fbc2c01~tplv-k3u1fbpfcp-watermark.image" width="100%"></div> <p>é€šè¿‡ä¸Šå›¾å¯ä»¥ç²¾ç¡®çš„çœ‹åˆ°æ­£åˆ™åŒ¹é…çš„æµç¨‹ã€‚ä¸è¿‡çœ‹ä¸Šå»ç»„ 5 å’Œç»„ 6 æ˜¯é‡å¤çš„ï¼Œä¸çŸ¥é“æ˜¯åˆ»æ„ä¸ºä¹‹è¿˜æ˜¯ï¼Ÿ</p> <h3 id="isemail"><a href="#isemail" class="header-anchor">#</a> isEmail</h3> <p><strong>åˆ¤æ–­æ˜¯å¦ä¸ºé‚®ç®±åœ°å€ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   åˆ¤æ–­æ˜¯å¦ä¸ºé‚®ç®±åœ°å€
 * @param  {String}  str
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isEmail</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// åˆ¤æ–­æ˜¯å¦ä¸ºemailæœ€æ ¸å¿ƒçš„æ˜¯@å’Œ.</span>
  <span class="token keyword">return</span> <span class="token operator">/</span>\w<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token operator">+</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\w<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>@\w<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\w<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span>\<span class="token punctuation">.</span>\w<span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token punctuation">.</span><span class="token punctuation">]</span>\w<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div align="center"><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8d633459db0843148b8753d72ff1baa8~tplv-k3u1fbpfcp-watermark.image" width="100%"></div> <p>ä»ä¸Šå›¾ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œ<code>@</code>å’Œ<code>.</code>éƒ½æ˜¯å¿…éœ€çš„ã€‚</p> <h3 id="isidcard"><a href="#isidcard" class="header-anchor">#</a> isIdCard</h3> <p><strong>åˆ¤æ–­æ˜¯å¦ä¸ºèº«ä»½è¯å·ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description  åˆ¤æ–­æ˜¯å¦ä¸ºèº«ä»½è¯å·
 * @param  {String|Number} str
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isIdCard</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>\d<span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span>\d<span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">|</span><span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">]</span>\d<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">3</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\d<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span>$<span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>\d<span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span>\d<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span>\d<span class="token punctuation">)</span><span class="token operator">|</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">|</span><span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">]</span>\d<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">3</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>\d<span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">|</span>\d<span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">[</span>Xx<span class="token punctuation">]</span><span class="token punctuation">)</span>$<span class="token punctuation">)</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
    str
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div align="center"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59e6acd110e14f16ae4a2c4923c19e41~tplv-k3u1fbpfcp-watermark.image" width="100%"></div> <p>è¯¥æ–¹æ³•æ²¡æœ‰å¾ˆå¥½çš„åˆ¤æ–­å¹´ä»½ä»¥åŠçœå¸‚åŒºç¼–å·ã€‚å¦‚æœæƒ³è¦æ›´åŠ ç²¾ç¡®ï¼Œéœ€è¦æ ¹æ®èº«ä»½è¯çš„ç»„æˆå•ç‹¬è¿›è¡Œåˆ¤æ–­ï¼Œæ¯”å¦‚å‰ 6 ä½æ˜¯çœå¸‚åŒºçš„ç¼–å·ç­‰ç­‰ã€‚</p> <h3 id="isphonenum"><a href="#isphonenum" class="header-anchor">#</a> isPhoneNum</h3> <p><strong>åˆ¤æ–­æ˜¯å¦ä¸ºæ‰‹æœºå·ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   åˆ¤æ–­æ˜¯å¦ä¸ºæ‰‹æœºå·
 * @param  {String|Number} str
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isPhoneNum</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span>\<span class="token operator">+</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">?</span><span class="token number">86</span>\<span class="token operator">-</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">1</span><span class="token punctuation">[</span><span class="token number">3456789</span><span class="token punctuation">]</span>\d<span class="token punctuation">{</span><span class="token number">9</span><span class="token punctuation">}</span>$<span class="token operator">/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div align="center"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a57f92d143bf420e878686efba49d9c9~tplv-k3u1fbpfcp-watermark.image" width="100%"></div> <p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œè¯¥æ­£åˆ™è€ƒè™‘åˆ°äº†<code>+86</code> å›½å®¶ç¼–å·çš„æƒ…å†µã€‚ç„¶åæ‰‹æœºå·çš„ç¬¬äºŒä½åŒ…æ‹¬äº†<code>[3456789]</code> ã€‚</p> <h3 id="isurl"><a href="#isurl" class="header-anchor">#</a> isUrl</h3> <p><strong>åˆ¤æ–­æ˜¯å¦ä¸º URL åœ°å€ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   åˆ¤æ–­æ˜¯å¦ä¸ºURLåœ°å€
 * @param  {String} str
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isUrl</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">/</span><span class="token punctuation">[</span><span class="token operator">-</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z0</span><span class="token operator">-</span><span class="token number">9</span>@<span class="token operator">:</span><span class="token operator">%</span><span class="token punctuation">.</span>_\<span class="token operator">+</span><span class="token operator">~</span>#<span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">}</span>\<span class="token punctuation">.</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">}</span>\<span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span>a<span class="token operator">-</span>zA<span class="token operator">-</span><span class="token constant">Z0</span><span class="token operator">-</span><span class="token number">9</span>@<span class="token operator">:</span><span class="token operator">%</span>_\<span class="token operator">+</span><span class="token punctuation">.</span><span class="token operator">~</span>#<span class="token operator">?</span><span class="token operator">&amp;</span><span class="token comment">//=]*)/i.test(</span>
    str
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div align="center"><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2051aee00cda41c4a339df8f75214b22~tplv-k3u1fbpfcp-watermark.image" width="100%"></div> <h3 id="digituppercase"><a href="#digituppercase" class="header-anchor">#</a> <strong>digitUppercase</strong></h3> <p><strong>ç°é‡‘é¢è½¬å¤§å†™ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   ç°é‡‘é¢è½¬å¤§å†™
 * @param  {Number} n
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">digitUppercase</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> fraction <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;è§’&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;åˆ†&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> digit <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;é›¶&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å£¹&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;è´°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;è‚†&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¼&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;é™†&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æŸ’&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æŒ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç–&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> unit <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">&quot;å…ƒ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸‡&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;äº¿&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ‹¾&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä½°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä»Ÿ&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// nä¸ºè´Ÿæ•°åˆ™æ˜¯æ¬ </span>
  <span class="token keyword">var</span> head <span class="token operator">=</span> n <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token string">&quot;æ¬ &quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// å¤„ç†äº†nä¸ºè´Ÿæ•°çš„æƒ…å†µï¼Œæ­¤å¤„ç›´æ¥å–ç»å¯¹å€¼</span>
  n <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// å¤„ç†å°æ•°ç‚¹çš„æƒ…å†µ</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fraction<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    s <span class="token operator">+=</span> <span class="token punctuation">(</span>
      digit<span class="token punctuation">[</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">+</span> fraction<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/é›¶./</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å¦‚æœå¤„ç†å®Œå°æ•°ç‚¹ä¾æ—§ä¸ºç©ºï¼Œåˆ™æ„å‘³ç€æ˜¯æ•´æ•°</span>
  s <span class="token operator">=</span> s <span class="token operator">||</span> <span class="token string">&quot;æ•´&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// å¯¹å€¼è¿›è¡Œå‘ä¸‹å–æ•´</span>
  n <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ä»ä½ä½åˆ°é«˜ä½è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶ä¸”å»é™¤å¤šä½™çš„é›¶</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> unit<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> unit<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      p <span class="token operator">=</span> digit<span class="token punctuation">[</span>n <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">+</span> unit<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> p<span class="token punctuation">;</span>
      n <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>n <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    s <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(é›¶.)*é›¶ $/</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^$/</span><span class="token punctuation">,</span> <span class="token string">&quot;é›¶&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> unit<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// è¿›è¡Œæ•´ä½“çš„æ‹¼æ¥ï¼Œå¹¶è°ƒæ•´æè¿°</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    head <span class="token operator">+</span>
    s
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(é›¶.)*é›¶å…ƒ/</span><span class="token punctuation">,</span> <span class="token string">&quot;å…ƒ&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(é›¶.)+/g</span><span class="token punctuation">,</span> <span class="token string">&quot;é›¶&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^æ•´ $/</span><span class="token punctuation">,</span> <span class="token string">&quot;é›¶å…ƒæ•´&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h3 id="issupportwebp"><a href="#issupportwebp" class="header-anchor">#</a> isSupportWebP</h3> <p><strong>åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ webP æ ¼å¼å›¾ç‰‡ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒwebPæ ¼å¼å›¾ç‰‡
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isSupportWebP</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// array.mapæ–¹æ³•æ˜¯ES5æ”¯æŒçš„æ–¹æ³•ï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒè¯¥æ–¹æ³•ï¼Œåˆ™ä¸å¯èƒ½æ”¯æŒwebP</span>
  <span class="token comment">// åˆ›å»ºcanvaså¹¶è®¾ç½®åŒ…å«å›¾ç‰‡å±•ç¤ºçš„data urlï¼Œå¦‚æœæ”¯æŒwebPï¼Œåˆ™è¿”å›çš„å­—ç¬¦ä¸²å¼€å¤´ä¾¿æ˜¯data:image/webp</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>map <span class="token operator">&amp;&amp;</span>
    document
      <span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">&quot;image/webp&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;data:image/webp&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <ol><li><strong><code>HTMLCanvasElement.toDataURL()</code></strong>Â  æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«å›¾ç‰‡å±•ç¤ºçš„ Â <code>data URI</code>Â ã€‚å¯ä»¥ä½¿ç”¨<code>type</code>å‚æ•°(å¯é€‰)æŒ‡å®šç±»å‹ï¼Œé»˜è®¤ä¸º<code>image/png</code>ã€‚ç¬¬äºŒä¸ªå¯é€‰å‚æ•°æ˜¯å›¾ç‰‡è´¨é‡ï¼Œå–å€¼èŒƒå›´æ˜¯<code>0-1</code>ï¼Œä¸ä¼ æˆ–è€…è¶…å‡ºå–å€¼èŒƒå›´ï¼Œåˆ™å–é»˜è®¤å€¼ Â <code>0.92</code>ã€‚å›¾ç‰‡çš„åˆ†è¾¨ç‡ä¸º<code>96dpi</code>ã€‚è¿”å›å€¼æ˜¯åŒ…å« Â <code>data URI</code>çš„<code>DOMString</code>ã€‚</li></ol> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>  document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/webp'</span><span class="token punctuation">)</span>

  <span class="token comment">//ä»¥ä¸‹ä¸ºè¾“å‡ºç»“æœ</span>
  data<span class="token operator">:</span>image<span class="token operator">/</span>webp<span class="token punctuation">;</span>base64<span class="token punctuation">,</span>UklGRtgCAABXRUJQVlA4WAoAAAAwAAAAKwEAlQAASUNDUBgCAAAAAAIYAAAAAAQwAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA<span class="token operator">+</span>EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANkFMUEgSAAAAAQcQEREQkCT<span class="token operator">+</span><span class="token operator">/</span>x9F9D<span class="token operator">/</span>tf0MAVlA4IIAAAABwDQCdASosAZYAPm02mUmkIyKhICgAgA2JaW7hdrEbQAnsA99snIe<span class="token operator">+</span><span class="token number">2</span>TkPfbJyHvtk5D32ych77ZOQ99snIe<span class="token operator">+</span><span class="token number">2</span>TkPfbJyHvtk5D32ych77ZOQ99snIe<span class="token operator">+</span><span class="token number">2</span>TkPfbJyHvtk5D32ych77ZOQ99snIe<span class="token operator">+</span><span class="token number">2</span>TkPfasAAD<span class="token operator">+</span><span class="token operator">/</span><span class="token number">9</span>YAAAAAAAAAAA<span class="token operator">==</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li>å¦‚æœæµè§ˆå™¨æ”¯æŒ<code>webP</code> ï¼Œé‚£ä¹ˆ<code>data URI</code> åˆ™ä¼šä»¥<code>data:image/webp</code>å¼€å¤´ã€‚é€šè¿‡å­—ç¬¦ä¸²çš„åŸå‹æ–¹æ³•<code>indexOf('data:image/webp') == 0</code> å°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æ”¯æŒã€‚</li> <li><code>Data URLs</code> å³å‰ç¼€ä¸º Â <code>data:</code>Â  åè®®çš„ URLï¼Œå…¶å…è®¸å†…å®¹åˆ›å»ºè€…å‘<strong>æ–‡æ¡£ä¸­åµŒå…¥å°æ–‡ä»¶</strong>ã€‚<code>Data URLs</code> ç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼šå‰ç¼€(<code>data:</code>)ã€æŒ‡ç¤ºæ•°æ®ç±»å‹çš„<code>MIME</code>ç±»å‹ã€å¦‚æœéæ–‡æœ¬åˆ™ä¸ºå¯é€‰çš„<code>base64</code>æ ‡è®°ã€æ•°æ®æœ¬èº«ã€‚å¦‚æœ<code>MIME</code>ç±»å‹è¢«çœç•¥ï¼Œåˆ™é»˜è®¤å€¼ä¸º Â <code>text/plain;charset=US-ASCII</code> ã€‚æ³¨æ„å››ä¸ªéƒ¨åˆ†ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œåˆ†åˆ«æ˜¯<code>:</code>ã€<code>;</code>ã€<code>,</code> ã€‚</li></ol> <h3 id="formatpasstime"><a href="#formatpasstime" class="header-anchor">#</a> <strong>formatPassTime</strong></h3> <p><strong>æ ¼å¼åŒ–æŒ‡å®šæ—¶é—´è·ç°åœ¨çš„å·²è¿‡æ—¶é—´ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description   æ ¼å¼åŒ– ${startTime}è·ç°åœ¨çš„å·²è¿‡æ—¶é—´
 * @param  {Date} startTime
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">formatPassTime</span><span class="token punctuation">(</span><span class="token parameter">startTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å–å½“å‰æ—¶é—´ï¼Œè¿”å›çš„æ˜¯æ¯«ç§’æ•°</span>
  <span class="token keyword">var</span> currentTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// è®¡ç®—æ—¶é—´é—´éš”</span>
    time <span class="token operator">=</span> currentTime <span class="token operator">-</span> startTime<span class="token punctuation">,</span>
    <span class="token comment">// åˆ†åˆ«è½¬æ¢å¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿ</span>
    day <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>time <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    hour <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>time <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    min <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>time <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    month <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>day <span class="token operator">/</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    year <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>month <span class="token operator">/</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æŒ‰é¡ºåºåˆ¤æ–­å¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿï¼Œå¦‚æœå­˜åœ¨åˆ™æ‹¼æ¥ç›¸åº”æè¿°å¹¶è¿”å›</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>year<span class="token punctuation">)</span> <span class="token keyword">return</span> year <span class="token operator">+</span> <span class="token string">&quot;å¹´å‰&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>month<span class="token punctuation">)</span> <span class="token keyword">return</span> month <span class="token operator">+</span> <span class="token string">&quot;ä¸ªæœˆå‰&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>day<span class="token punctuation">)</span> <span class="token keyword">return</span> day <span class="token operator">+</span> <span class="token string">&quot;å¤©å‰&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>hour<span class="token punctuation">)</span> <span class="token keyword">return</span> hour <span class="token operator">+</span> <span class="token string">&quot;å°æ—¶å‰&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>min<span class="token punctuation">)</span> <span class="token keyword">return</span> min <span class="token operator">+</span> <span class="token string">&quot;åˆ†é’Ÿå‰&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// å¦‚æœæ—¶é—´é—´éš”å°äºåˆ†é’Ÿçº§åˆ«ï¼Œåˆ™ç›´æ¥è¿”å›åˆšåˆš</span>
  <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token string">&quot;åˆšåˆš&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="formatremaintime"><a href="#formatremaintime" class="header-anchor">#</a> formatRemainTime</h3> <p><strong>æ ¼å¼åŒ–ç°åœ¨è·ç¦»æŒ‡å®šæ—¶é—´çš„å‰©ä½™æ—¶é—´ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   æ ¼å¼åŒ–ç°åœ¨è· ${endTime}çš„å‰©ä½™æ—¶é—´
 * @param  {Date} endTime
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">formatRemainTime</span><span class="token punctuation">(</span><span class="token parameter">endTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> startDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¼€å§‹æ—¶é—´</span>
  <span class="token keyword">var</span> endDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç»“æŸæ—¶é—´</span>
  <span class="token keyword">var</span> t <span class="token operator">=</span> endDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ—¶é—´å·®</span>
  <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœæ—¶é—´é—´éš”å¤§äºç­‰äº0ï¼Œåˆ™è¿›è¡Œè½¬æ¢ï¼Œå¦åˆ™ç›´æ¥è¿”å›éƒ½æ˜¯0çš„æ•°æ®</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¡ç®—å¤©æ•°å¹¶å‘ä¸‹å–æ•´</span>
    d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">3600</span> <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å°æ—¶ã€åˆ†é’Ÿã€ç§’åˆ†åˆ«é€šè¿‡å–ä½™å’Œå‘ä¸‹å–æ•´æ¥æ‹¿åˆ°æ•°æ®</span>
    h <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// è¿”å›æ‹¼æ¥çš„å‰©ä½™æ—¶é—´</span>
  <span class="token keyword">return</span> d <span class="token operator">+</span> <span class="token string">&quot;å¤© &quot;</span> <span class="token operator">+</span> h <span class="token operator">+</span> <span class="token string">&quot;å°æ—¶ &quot;</span> <span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">&quot;åˆ†é’Ÿ &quot;</span> <span class="token operator">+</span> s <span class="token operator">+</span> <span class="token string">&quot;ç§’&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="isleapyear"><a href="#isleapyear" class="header-anchor">#</a> <strong>isLeapYear</strong></h3> <p><strong>åˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description æ˜¯å¦ä¸ºé—°å¹´
 * @param {Number} year
 * @returns {Boolean}
 */</span>

<span class="token keyword">function</span> <span class="token function">isLeapYear</span><span class="token punctuation">(</span><span class="token parameter">year</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// é—°å¹´çš„åˆ¤æ–­ä¾æ®æ˜¯å¹´ä»½ä¸º4çš„å€æ•°ï¼ŒåŒæ—¶å¹´ä»½ä¸æ˜¯100çš„å€æ•°æˆ–è€…æ˜¯400çš„å€æ•°</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">===</span> year <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>year <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">||</span> year <span class="token operator">%</span> <span class="token number">400</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="issameday"><a href="#issameday" class="header-anchor">#</a> isSameDay</h3> <p><strong>åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€å¤©ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description   åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€å¤©
 * @param  {Date} date1
 * @param  {Date} date2 å¯é€‰ï¼é»˜è®¤å€¼ï¼šå½“å¤©
 * @return {Boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isSameDay</span><span class="token punctuation">(</span><span class="token parameter">date1<span class="token punctuation">,</span> date2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>date2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// åˆ†åˆ«è·å–ä¸¤ä¸ªå‚æ•°çš„å¹´æœˆæ—¥</span>
  <span class="token keyword">var</span> date1_year <span class="token operator">=</span> date1<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    date1_month <span class="token operator">=</span> date1<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    date1_date <span class="token operator">=</span> date1<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> date2_year <span class="token operator">=</span> date2<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    date2_month <span class="token operator">=</span> date2<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    date2_date <span class="token operator">=</span> date2<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¯”è¾ƒæ—¥æœˆå¹´æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœéƒ½ç›¸ç­‰ï¼Œåˆ™ä¸ºåŒä¸€å¤©</span>
  <span class="token comment">// ä»åå¾€å‰æ¯”è¾ƒå¯ä»¥æå‰é€€å‡ºï¼Œé˜²æ­¢æ— æ•ˆåˆ¤æ–­</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    date1_date <span class="token operator">===</span> date2_date <span class="token operator">&amp;&amp;</span>
    date1_month <span class="token operator">===</span> date2_month <span class="token operator">&amp;&amp;</span>
    date1_year <span class="token operator">===</span> date2_year
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="timeleft"><a href="#timeleft" class="header-anchor">#</a> timeLeft</h3> <p><strong>è®¡ç®—å¼€å§‹æ—¶é—´åˆ°ç»“æŸæ—¶é—´çš„å‰©ä½™æ—¶é—´ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description ${startTime - endTime}çš„å‰©ä½™æ—¶é—´,startTimeå¤§äºendTimeæ—¶ï¼Œå‡è¿”å›0
 * @param { Date | String } startTime
 * @param { Date | String } endTime
 * @returns { Object } { d, h, m, s } å¤© æ—¶ åˆ† ç§’
 */</span>
<span class="token keyword">function</span> <span class="token function">timeLeft</span><span class="token punctuation">(</span><span class="token parameter">startTime<span class="token punctuation">,</span> endTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å‚æ•°ç¼ºå¤±åˆ™ç›´æ¥è¿”å›</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>startTime <span class="token operator">||</span> <span class="token operator">!</span>endTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å¦‚æœå‚æ•°æ˜¯Dateå®ä¾‹åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦åˆ™è½¬æ¢ä¸ºDateå®ä¾‹</span>
  <span class="token comment">// å°†æ—¶é—´æ ¼å¼çš„-è½¬æ¢ä¸º/ï¼Œæ˜¯ä¸ºäº†é€‚é…ios</span>
  <span class="token keyword">var</span> startDate<span class="token punctuation">,</span> endDate<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>startTime <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    startDate <span class="token operator">=</span> startTime<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    startDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>startTime<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¼€å§‹æ—¶é—´</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>endTime <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    endDate <span class="token operator">=</span> endTime<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    endDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>endTime<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/-/g</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç»“æŸæ—¶é—´</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// è®¡ç®—å¾—åˆ°å¤©ã€æ—¶ã€åˆ†ã€ç§’</span>
  <span class="token keyword">var</span> t <span class="token operator">=</span> endDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startDate<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
    s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">3600</span> <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    h <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> d<span class="token punctuation">,</span> h<span class="token punctuation">,</span> m<span class="token punctuation">,</span> s <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="monthdays"><a href="#monthdays" class="header-anchor">#</a> monthDays</h3> <p><strong>è·å–æŒ‡å®šæ—¥æœŸæœˆä»½çš„æ€»å¤©æ•°ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 * @description è·å–æŒ‡å®šæ—¥æœŸæœˆä»½çš„æ€»å¤©æ•°
 * @param {Date} time
 * @return {Number}
 */</span>
<span class="token keyword">function</span> <span class="token function">monthDays</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è·å–æŒ‡å®šæ—¥æœŸçš„å¹´ä»½ï¼Œè¿”å›4ä½æ•°</span>
  <span class="token keyword">var</span> year <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è·å–æŒ‡å®šæ—¥æœŸçš„æœˆä»½ï¼ŒèŒƒå›´ä¸º0-11ï¼Œå› æ­¤éœ€è¦+1</span>
  <span class="token keyword">var</span> month <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token comment">// é€šè¿‡å½¢å¦‚new Date(year, monthIndex, day)æ¥åˆ›å»ºDateå®ä¾‹</span>
  <span class="token comment">// ç„¶åè·å–æŒ‡å®šå¹´æœˆçš„æ€»å¤©æ•°ï¼Œè¿”å›1-31</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="parsequerystring"><a href="#parsequerystring" class="header-anchor">#</a> <strong>parseQueryString</strong></h3> <p>**<code>url</code>å‚æ•°è½¬å¯¹è±¡ã€‚**é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œ<code>url</code>å‚æ•°æ˜¯<code>?</code>åé¢çš„å½¢å¦‚<code>key1=value1&amp;key2=value2</code>çš„å€¼ã€‚</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   urlå‚æ•°è½¬å¯¹è±¡
 * @param  {String} url  default: window.location.href
 * @return {Object}
 */</span>
<span class="token keyword">function</span> <span class="token function">parseQueryString</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¦‚æœurlä¸ºfalsyï¼Œåˆ™ä½¿ç”¨window.location.href</span>
  url <span class="token operator">=</span> <span class="token operator">!</span>url <span class="token operator">?</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">:</span> url<span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœä¸å­˜åœ¨?ï¼Œæ„å‘³ç€æ²¡æœ‰æŸ¥è¯¢å‚æ•°ï¼Œç›´æ¥è¿”å›ç©ºå¯¹è±¡</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// å¦‚æœurlä»¥?å¼€å¤´ï¼Œåˆ™æˆªå–ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²åˆ°æœ€åï¼›</span>
  <span class="token comment">// å¦åˆ™æ‰¾åˆ°æœ€åçš„?ï¼Œå¹¶æˆªå–?ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²åˆ°æœ€å</span>
  <span class="token keyword">var</span> search <span class="token operator">=</span>
    url<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">?</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> url<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// å¦‚æœ?åé¢ä¸ºç©ºï¼Œä¹Ÿæ„å‘³ç€æ²¡æœ‰æŸ¥è¯¢å‚æ•°ï¼Œè¿”å›ç©ºå¯¹è±¡</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>search <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// åˆ†å‰²ä¸ºkey=valueç»„æˆçš„æ•°ç»„</span>
  search <span class="token operator">=</span> search<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> search<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ†å‰²ä¸º[key, value]</span>
    <span class="token keyword">var</span> pair <span class="token operator">=</span> search<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è§£ç ç›¸åº”çš„å€¼ï¼Œå¹¶èµ‹å€¼ç»™queryå¯¹è±¡</span>
    <span class="token comment">// valueä¸ºfalsyï¼Œåˆ™é»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²</span>
    query<span class="token punctuation">[</span><span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>pair<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">decodeURIComponent</span><span class="token punctuation">(</span>pair<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// æœ€åè¿”å›queryå¯¹è±¡</span>
  <span class="token keyword">return</span> query<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p>è¡¥å……çŸ¥è¯†ï¼š</p> <ol><li><strong><code>substr()</code></strong>Â  æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä»æŒ‡å®šä½ç½®å¼€å§‹åˆ°æŒ‡å®šå­—ç¬¦æ•°çš„å­—ç¬¦ã€‚è¯¥å‚æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚
<ol><li><code>start</code>å‚æ•°ã€‚å¼€å§‹æå–å­—ç¬¦çš„ä½ç½®ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™è¢«çœ‹ä½œ Â <code>strLength + startï¼Œå…¶ä¸­</code> <code>strLength</code>Â  ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li> <li><code>length</code> å‚æ•°(å¯é€‰)ã€‚æå–çš„å­—ç¬¦æ•°ã€‚</li> <li><strong>é¿å…ä½¿ç”¨</strong>è¯¥æ–¹æ³•ï¼Œä½¿ç”¨<code>substring()</code>ä»£æ›¿ã€‚ä¸Šè¿°ç¤ºä¾‹å®Œå…¨å¯ä»¥è¿›è¡Œä»£æ›¿ã€‚</li></ol></li> <li>**<code>substring()</code>**æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨å¼€å§‹ç´¢å¼•åˆ°ç»“æŸç´¢å¼•ä¹‹é—´çš„ä¸€ä¸ªå­é›†, æˆ–ä»å¼€å§‹ç´¢å¼•ç›´åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾çš„ä¸€ä¸ªå­é›†ã€‚è¯¥å‚æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ã€‚
<ol><li><code>indexStart</code> ã€‚éœ€è¦æˆªå–çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ï¼Œè¯¥ç´¢å¼•ä½ç½®çš„å­—ç¬¦ä½œä¸ºè¿”å›çš„å­—ç¬¦ä¸²çš„é¦–å­—æ¯ã€‚</li> <li><code>indexEnd</code> ã€‚å¯é€‰ã€‚ä¸€ä¸ª 0 åˆ°å­—ç¬¦ä¸²é•¿åº¦ä¹‹é—´çš„æ•´æ•°ï¼Œä»¥è¯¥æ•°å­—ä¸ºç´¢å¼•çš„å­—ç¬¦<strong>ä¸åŒ…å«</strong>åœ¨æˆªå–çš„å­—ç¬¦ä¸²å†…ã€‚</li></ol></li></ol> <h3 id="stringfyquerystring"><a href="#stringfyquerystring" class="header-anchor">#</a> <strong>stringfyQueryString</strong></h3> <p><strong>å¯¹è±¡åºåˆ—åŒ–ã€‚</strong></p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">/**
 *
 * @description   å¯¹è±¡åºåˆ—åŒ–
 * @param  {Object} obj
 * @return {String}
 */</span>
<span class="token keyword">function</span> <span class="token function">stringfyQueryString</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç‰¹æ®Šå€¼å¤„ç†</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> pairs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// å¦‚æœå¯¹è±¡çš„å€¼ä¸ºæ•°ç»„ï¼Œåˆ™å¤„ç†æˆå½¢å¦‚key[i]=value</span>
    <span class="token comment">// åŒæ—¶è¿›è¡Œç¼–ç å¤„ç†</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pairs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
          <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">&quot;[&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span>
            <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span>
            <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å¯¹è±¡çš„å€¼ä¸æ˜¯æ•°ç»„ï¼Œåˆ™å¤„ç†æˆkey=value</span>
    <span class="token comment">// åŒæ—¶è¿›è¡Œç¼–ç å¤„ç†</span>
    pairs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ä½¿ç”¨&amp;æ‹¼æ¥å¹¶è¿”å›</span>
  <span class="token keyword">return</span> pairs<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&amp;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h2> <p>é€šè¿‡åˆ†æå·¥å…·åº“ï¼Œå¯ä»¥æ–¹ä¾¿æˆ‘ä»¬åˆ›å»ºå‡ºè‡ªå·±çš„å·¥å…·åº“ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚ä»¥ä¸Šå°±æ˜¯æ‰€æœ‰å·¥å…·åº“æ–¹æ³•çš„è§£è¯»ï¼Œå¦‚æœ‰é”™è¯¯ä¹‹å¤„ï¼Œè¯·å¤§å®¶å¤šå¤šæŒ‡æ•™ã€‚</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/FrontToEnd/vuepress-blog/edit/main/notes/å·¥å…·åº“æºç è§£æ.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘æ”¹å–„è¿™ä¸ªé¡µé¢</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°æ—¶é—´:</span> <span class="time">1/9/2022, 9:12:36 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/notes/å¦‚ä½•å­¦ä¹ å‰ç«¯.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        å¦‚ä½•å­¦ä¹ å‰ç«¯
      </a></span> <span class="next"><a href="/notes/æ·±å…¥æµ…å‡ºTypeScript.html">
        æ·±å…¥æµ…å‡ºTypeScript
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/assets/js/app.3f4decce.js" defer></script><script src="/assets/js/2.bdf3ae06.js" defer></script><script src="/assets/js/90.86e48091.js" defer></script>
  </body>
</html>